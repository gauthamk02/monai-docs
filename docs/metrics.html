
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Metrics &#8212; MONAI 1.5.1 Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=26ac546f" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=cb7e6255"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'metrics';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Optimizers" href="optimizers.html" />
    <link rel="prev" title="Network architectures" href="networks.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.5.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/MONAI-logo-color.png" class="logo__image only-light" alt="MONAI 1.5.1 Documentation - Home"/>
    <img src="_static/MONAI-logo-color.png" class="logo__image only-dark pst-js-only" alt="MONAI 1.5.1 Documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="whatsnew.html">
    What’s New
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="highlights.html">
    Highlights
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="precision_accelerating.html">
    Precision and Accelerating
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contrib.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="bundle_intro.html">
    Bundle
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="lazy_resampling.html">
    Lazy Resampling
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://github.com/Project-MONAI/tutorials">
    Tutorials
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/project-monai/monai" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/projectmonai" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-twitter-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="whatsnew.html">
    What’s New
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="highlights.html">
    Highlights
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="precision_accelerating.html">
    Precision and Accelerating
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contrib.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="bundle_intro.html">
    Bundle
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="lazy_resampling.html">
    Lazy Resampling
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Project-MONAI/tutorials">
    Tutorials
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/project-monai/monai" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/projectmonai" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-twitter-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto3dseg.html">Auto3dseg</a></li>
<li class="toctree-l1"><a class="reference internal" href="fl.html">Federated Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="bundle.html">Model Bundle</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="losses.html">Loss functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="networks.html">Network architectures</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizers.html">Optimizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="engines.html">Engines</a></li>
<li class="toctree-l1"><a class="reference internal" href="inferers.html">Inference methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="handlers.html">Event handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualize.html">Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="api.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Metrics</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="metrics">
<span id="id1"></span><h1>Metrics<a class="headerlink" href="#metrics" title="Link to this heading">#</a></h1>
<section id="froc">
<h2><cite>FROC</cite><a class="headerlink" href="#froc" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_fp_tp_probs">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_fp_tp_probs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">probs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x_coord</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">evaluation_mask</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">labels_to_exclude</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resolution_level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/froc.py#L78-L119"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_fp_tp_probs" title="Link to this definition">#</a></dt>
<dd><p>This function is modified from the official evaluation code of
<a class="reference external" href="https://camelyon16.grand-challenge.org/">CAMELYON 16 Challenge</a>, and used to distinguish
true positive and false positive predictions. A true positive prediction is defined when
the detection point is within the annotated ground truth region.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>probs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – an array with shape (n,) that represents the probabilities of the detections.
Where, n is the number of predicted detections.</p></li>
<li><p><strong>y_coord</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – an array with shape (n,) that represents the Y-coordinates of the detections.</p></li>
<li><p><strong>x_coord</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – an array with shape (n,) that represents the X-coordinates of the detections.</p></li>
<li><p><strong>evaluation_mask</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – the ground truth mask for evaluation.</p></li>
<li><p><strong>labels_to_exclude</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – labels in this list will not be counted for metric calculation.</p></li>
<li><p><strong>resolution_level</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the level at which the evaluation mask is made.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>an array that contains the probabilities of the false positive detections.
tp_probs: an array that contains the probabilities of the True positive detections.
num_targets: the total number of targets (excluding <cite>labels_to_exclude</cite>) for all images under evaluation.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>fp_probs</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_froc_curve_data">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_froc_curve_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fp_probs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tp_probs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_targets</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_images</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/froc.py#L122-L155"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_froc_curve_data" title="Link to this definition">#</a></dt>
<dd><p>This function is modified from the official evaluation code of
<a class="reference external" href="https://camelyon16.grand-challenge.org/">CAMELYON 16 Challenge</a>, and used to compute
the required data for plotting the Free Response Operating Characteristic (FROC) curve.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fp_probs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – an array that contains the probabilities of the false positive detections for all
images under evaluation.</p></li>
<li><p><strong>tp_probs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – an array that contains the probabilities of the True positive detections for all
images under evaluation.</p></li>
<li><p><strong>num_targets</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the total number of targets (excluding <cite>labels_to_exclude</cite>) for all images under evaluation.</p></li>
<li><p><strong>num_images</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the number of images under evaluation.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_froc_score">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_froc_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fps_per_image</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_sensitivity</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">eval_thresholds</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.25,</span> <span class="pre">0.5,</span> <span class="pre">1,</span> <span class="pre">2,</span> <span class="pre">4,</span> <span class="pre">8)</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/froc.py#L158-L175"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_froc_score" title="Link to this definition">#</a></dt>
<dd><p>This function is modified from the official evaluation code of
<a class="reference external" href="https://camelyon16.grand-challenge.org/">CAMELYON 16 Challenge</a>, and used to compute
the challenge’s second evaluation metric, which is defined as the average sensitivity at
the predefined false positive rates per whole slide image.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>fps_per_image</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – the average number of false positives per image for different thresholds.</p></li>
<li><p><strong>total_sensitivity</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>) – sensitivities (true positive rates) for different thresholds.</p></li>
<li><p><strong>eval_thresholds</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>) – the false positive rates for calculating the average sensitivity. Defaults
to (0.25, 0.5, 1, 2, 4, 8) which is the same as the CAMELYON 16 Challenge.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="metric">
<h2><cite>Metric</cite><a class="headerlink" href="#metric" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.Metric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">Metric</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L26-L41"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Metric" title="Link to this definition">#</a></dt>
<dd><p>Base class for metric computation for evaluating the performance of a model.
<cite>__call__</cite> is designed to execute the computation.</p>
</dd></dl>

</section>
<section id="variance">
<h2><cite>Variance</cite><a class="headerlink" href="#variance" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_variance">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_variance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalar_reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0005</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/active_learning_metrics.py#L108-L162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_variance" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – [N, C, H, W, D] or [N, C, H, W] or [N, C, H] where N is repeats, C is channels and H, W, D stand for
Height, Width &amp; Depth</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include the background of the spatial image or channel 0 of the 1-D vector</p></li>
<li><p><strong>spatial_map</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Boolean, if set to True, spatial map of variance will be returned corresponding to i/p image
dimensions</p></li>
<li><p><strong>scalar_reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – reduction type of the metric, either ‘sum’ or ‘mean’ can be used</p></li>
<li><p><strong>threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – To avoid NaN’s a threshold is used to replace zero’s</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A single scalar uncertainty/variance value or the spatial map of uncertainty/variance</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.VarianceMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">VarianceMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spatial_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalar_reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0005</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/active_learning_metrics.py#L25-L70"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.VarianceMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute the Variance of a given T-repeats N-dimensional array/tensor. The primary usage is as an uncertainty based
metric for Active Learning.</p>
<p>It can return the spatial variance/uncertainty map based on user choice or a single scalar value via mean/sum of the
variance for scoring purposes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include the background of the spatial image or channel 0 of the 1-D vector</p></li>
<li><p><strong>spatial_map</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Boolean, if set to True, spatial map of variance will be returned corresponding to i/p image dimensions</p></li>
<li><p><strong>scalar_reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – reduction type of the metric, either ‘sum’ or ‘mean’ can be used</p></li>
<li><p><strong>threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – To avoid NaN’s a threshold is used to replace zero’s</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="labelqualityscore">
<h2><cite>LabelQualityScore</cite><a class="headerlink" href="#labelqualityscore" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.label_quality_score">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">label_quality_score</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalar_reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'mean'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/active_learning_metrics.py#L165-L207"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.label_quality_score" title="Link to this definition">#</a></dt>
<dd><p>The assumption is that the DL model makes better predictions than the provided label quality, hence the difference
can be treated as a label quality score</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Input data of dimension [B, C, H, W, D] or [B, C, H, W] or [B, C, H] where B is Batch-size, C is
channels and H, W, D stand for Height, Width &amp; Depth</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Ground Truth of dimension [B, C, H, W, D] or [B, C, H, W] or [B, C, H] where B is Batch-size, C is channels
and H, W, D stand for Height, Width &amp; Depth</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include the background of the spatial image or channel 0 of the 1-D vector</p></li>
<li><p><strong>scalar_reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – reduction type of the metric, either ‘sum’ or ‘mean’ can be used to retrieve a single scalar
value, if set to ‘none’ a spatial map will be returned</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A single scalar absolute difference value as score with a reduction based on sum/mean or the spatial map of
absolute difference</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.LabelQualityScore">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">LabelQualityScore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scalar_reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'sum'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/active_learning_metrics.py#L73-L105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.LabelQualityScore" title="Link to this definition">#</a></dt>
<dd><p>The assumption is that the DL model makes better predictions than the provided label quality, hence the difference
can be treated as a label quality score</p>
<p>It can be combined with variance/uncertainty for active learning frameworks to factor in the quality of label along
with uncertainty
:type include_background: <code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>
:param include_background: Whether to include the background of the spatial image or channel 0 of the 1-D vector
:param spatial_map: Boolean, if set to True, spatial map of variance will be returned corresponding to i/p image
:param dimensions:
:type scalar_reduction: <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>
:param scalar_reduction: reduction type of the metric, either ‘sum’ or ‘mean’ can be used</p>
</dd></dl>

</section>
<section id="iterationmetric">
<h2><cite>IterationMetric</cite><a class="headerlink" href="#iterationmetric" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.IterationMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">IterationMetric</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L44-L122"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.IterationMetric" title="Link to this definition">#</a></dt>
<dd><p>Base class for metrics computation at the iteration level, that is, on a min-batch of samples
usually using the model outcome of one iteration.</p>
<p><cite>__call__</cite> is designed to handle <cite>y_pred</cite> and <cite>y</cite> (optional) in torch tensors or a list/tuple of tensors.</p>
<p>Subclasses typically implement the <cite>_compute_tensor</cite> function for the actual tensor computation logic.</p>
</dd></dl>

</section>
<section id="cumulative">
<h2><cite>Cumulative</cite><a class="headerlink" href="#cumulative" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.Cumulative">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">Cumulative</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L125-L293"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative" title="Link to this definition">#</a></dt>
<dd><p>Utility class for the typical cumulative computation process based on PyTorch Tensors.
It provides interfaces to accumulate values in the local buffers, synchronize buffers across distributed nodes,
and aggregate the buffered values.</p>
<p>In multi-processing, PyTorch programs usually distribute data to multiple nodes. Each node runs with a subset
of the data, adds values to its local buffers. Calling <cite>get_buffer</cite> could gather all the results and
<cite>aggregate</cite> can further handle the results to generate the final outcomes.</p>
<p>Users can implement their own <cite>aggregate</cite> method to handle the results,
using <cite>get_buffer</cite> to get the buffered contents.</p>
<p>Note: the data list should have the same length every time calling <cite>add()</cite> in a round,
it will automatically create buffers according to the length of data list.</p>
<p>Typically, this class is expected to execute the following steps:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cumulative</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Cumulative</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>  <span class="c1"># adds a value</span>
<span class="n">c</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">])</span>  <span class="c1"># adds a batch of values</span>
<span class="n">c</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>  <span class="c1"># adds a batch of values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">())</span>  <span class="c1"># tensor([1, 2, 3, 4, 5, 6])</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>  <span class="c1"># 6</span>
<span class="n">c</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>  <span class="c1"># 0</span>
</pre></div>
</div>
<p>The following is an example of maintaining two internal buffers:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cumulative</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Cumulative</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>  <span class="c1"># adds a value to two buffers respectively</span>
<span class="n">c</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">],</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">])</span>  <span class="c1"># adds batches of values</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">())</span>  <span class="c1"># [tensor([1, 3, 4]), tensor([2, 5, 6])]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
<p>The following is an example of extending with variable length data:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cumulative</span>

<span class="n">c</span> <span class="o">=</span> <span class="n">Cumulative</span><span class="p">()</span>
<span class="n">c</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">8</span><span class="p">,</span> <span class="mi">2</span><span class="p">)),</span> <span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">6</span><span class="p">,</span> <span class="mi">2</span><span class="p">)))</span>  <span class="c1"># adds batches</span>
<span class="n">c</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="p">)))</span>  <span class="c1"># adds a value</span>
<span class="nb">print</span><span class="p">(</span><span class="n">c</span><span class="o">.</span><span class="n">get_buffer</span><span class="p">())</span>  <span class="c1"># [torch.zeros((9, 2)), torch.zeros((6, 2))]</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.__init__">
<span class="sig-name descname"><span class="pre">__init__</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L183-L192"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.__init__" title="Link to this definition">#</a></dt>
<dd><p>Initialize the internal buffers.
<cite>self._buffers</cite> are local buffers, they are not usually used directly.
<cite>self._sync_buffers</cite> are the buffers with all the results across all the nodes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.aggregate">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L247-L254"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Aggregate final results based on the gathered buffers.
This method is expected to use <cite>get_buffer</cite> to gather the local buffer contents.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L227-L245"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.append" title="Link to this definition">#</a></dt>
<dd><p>Add samples to the local cumulative buffers.
A buffer will be allocated for each <cite>data</cite> item.
Compared with <cite>self.extend</cite>, this method adds a single sample (instead
of a “batch”) to the local buffers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – each item will be converted into a torch tensor.
they will be stacked at the 0-th dim with a new dimension when <cite>get_buffer()</cite> is called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.extend">
<span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L203-L225"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.extend" title="Link to this definition">#</a></dt>
<dd><p>Extend the local buffers with new (“batch-first”) data.
A buffer will be allocated for each <cite>data</cite> item.
Compared with <cite>self.append</cite>, this method adds a “batch” of data to the local buffers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>data</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – each item can be a “batch-first” tensor or a list of “channel-first” tensors.
they will be concatenated at the 0-th dimension when <cite>get_buffer()</cite> is called.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.get_buffer">
<span class="sig-name descname"><span class="pre">get_buffer</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L282-L293"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.get_buffer" title="Link to this definition">#</a></dt>
<dd><p>Get the synchronized list of buffers.
A typical usage is to generate the metrics report based on the raw metric details.
Each buffer is a PyTorch Tensor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.Cumulative.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L194-L201"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.Cumulative.reset" title="Link to this definition">#</a></dt>
<dd><p>Reset the buffers for cumulative tensors and the synced results.</p>
</dd></dl>

</dd></dl>

</section>
<section id="cumulativeiterationmetric">
<h2><cite>CumulativeIterationMetric</cite><a class="headerlink" href="#cumulativeiterationmetric" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.CumulativeIterationMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">CumulativeIterationMetric</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/metric.py#L296-L353"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeIterationMetric" title="Link to this definition">#</a></dt>
<dd><p>Base class of cumulative metric which collects metrics on each mini-batch data at the iteration level.</p>
<p>Typically, it computes some intermediate results for each iteration, adds them to the buffers,
then the buffer contents could be gathered and aggregated for the final result when epoch completed.
Currently,``Cumulative.aggregate()`` and <code class="docutils literal notranslate"><span class="pre">IterationMetric._compute_tensor()</span></code> are expected to be implemented.</p>
<p>For example, <cite>MeanDice</cite> inherits this class and the usage is as follows:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">dice_metric</span> <span class="o">=</span> <span class="n">DiceMetric</span><span class="p">(</span><span class="n">include_background</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;mean&quot;</span><span class="p">)</span>

<span class="k">for</span> <span class="n">val_data</span> <span class="ow">in</span> <span class="n">val_loader</span><span class="p">:</span>
    <span class="n">val_outputs</span> <span class="o">=</span> <span class="n">model</span><span class="p">(</span><span class="n">val_data</span><span class="p">[</span><span class="s2">&quot;img&quot;</span><span class="p">])</span>
    <span class="n">val_outputs</span> <span class="o">=</span> <span class="p">[</span><span class="n">postprocessing_transform</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">decollate_batch</span><span class="p">(</span><span class="n">val_outputs</span><span class="p">)]</span>
    <span class="c1"># compute metric for current iteration</span>
    <span class="n">dice_metric</span><span class="p">(</span><span class="n">y_pred</span><span class="o">=</span><span class="n">val_outputs</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">val_data</span><span class="p">[</span><span class="s2">&quot;seg&quot;</span><span class="p">])</span>  <span class="c1"># callable to add metric to the buffer</span>

<span class="c1"># aggregate the final mean dice result</span>
<span class="n">metric</span> <span class="o">=</span> <span class="n">dice_metric</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span><span class="o">.</span><span class="n">item</span><span class="p">()</span>

<span class="c1"># reset the status for next computation round</span>
<span class="n">dice_metric</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
<p>And to load <cite>predictions</cite> and <cite>labels</cite> from files, then compute metrics with multi-processing, please refer to:
<a class="github reference external" href="https://github.com/Project-MONAI/tutorials/blob/master/modules/compute_metric.py">Project-MONAI/tutorials</a>.</p>
</dd></dl>

</section>
<section id="lossmetric">
<h2><cite>LossMetric</cite><a class="headerlink" href="#lossmetric" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.LossMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">LossMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loss_fn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/loss_metric.py#L26-L111"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.LossMetric" title="Link to this definition">#</a></dt>
<dd><p>A wrapper to make <code class="docutils literal notranslate"><span class="pre">loss_fn</span></code> available as a cumulative metric. That is, the loss values computed from
mini-batches can be combined in the <code class="docutils literal notranslate"><span class="pre">reduction</span></code> mode across multiple iterations, as a quantitative measurement
of a model.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.losses</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiceLoss</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">LossMetric</span>

<span class="n">dice_loss</span> <span class="o">=</span> <span class="n">DiceLoss</span><span class="p">(</span><span class="n">include_background</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">loss_metric</span> <span class="o">=</span> <span class="n">LossMetric</span><span class="p">(</span><span class="n">loss_fn</span><span class="o">=</span><span class="n">dice_loss</span><span class="p">)</span>

<span class="c1"># first iteration</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>  <span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>  <span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">loss_metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># second iteration</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]]]])</span>  <span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>  <span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">loss_metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>

<span class="c1"># aggregate</span>
<span class="nb">print</span><span class="p">(</span><span class="n">loss_metric</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>  <span class="c1"># tensor([[0.2000], [0.5000]]) (shape [batch=2, channel=1])</span>

<span class="c1"># reset</span>
<span class="n">loss_metric</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="n">loss_metric</span><span class="o">.</span><span class="n">aggregate</span><span class="p">())</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loss_fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">_Loss</span></code>) – a callable function that takes <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and optionally <code class="docutils literal notranslate"><span class="pre">y</span></code> as input (in the “batch-first” format),
returns a “batch-first” tensor of loss values.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric, thus its shape equals to the shape of the metric.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.LossMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/loss_metric.py#L80-L95"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.LossMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Returns the aggregated loss value across multiple iterations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="mean-dice">
<h2><cite>Mean Dice</cite><a class="headerlink" href="#mean-dice" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.DiceMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">DiceMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_with_label</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meandice.py#L24-L169"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.DiceMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes Dice score for a set of pairs of prediction-groundtruth labels. It supports single-channel label maps
or multi-channel images with class segmentations per channel. This allows the computation for both multi-class
and multi-label tasks.</p>
<p>If either prediction <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> or ground truth <code class="docutils literal notranslate"><span class="pre">y</span></code> have shape BCHW[D], it is expected that these represent one-
hot segmentations for C number of classes. If either shape is B1HW[D], it is expected that these are label maps
and the number of classes must be specified by the <code class="docutils literal notranslate"><span class="pre">num_classes</span></code> parameter. In either case for either inputs,
this metric applies no activations and so non-binary values will produce unexpected results if this metric is used
for binary overlap measurement (ie. either was expected to be one-hot formatted). Soft labels are thus permitted by
this metric. Typically this implies that raw predictions from a network must first be activated and possibly made
into label maps, eg. for a multi-class prediction tensor softmax and then argmax should be applied over the channel
dimensions to produce a label map.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">include_background</span></code> parameter can be set to <cite>False</cite> to exclude the first category (channel index 0) which
is by convention assumed to be background. If the non-background segmentations are small compared to the total
image size they can get overwhelmed by the signal from the background. This assumes the shape of both prediction
and ground truth is BCHW[D].</p>
<p>The typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<p>Further information can be found in the official
<cite>MONAI Dice Overview &lt;https://github.com/Project-MONAI/tutorials/blob/main/modules/dice_loss_metric_notes.ipynb&gt;</cite>.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiceMetric</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.losses</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiceLoss</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.networks</span><span class="w"> </span><span class="kn">import</span> <span class="n">one_hot</span>

<span class="n">batch_size</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span> <span class="o">=</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">)</span>  <span class="c1"># network predictions</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">argmax</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>  <span class="c1"># convert to label map</span>

<span class="c1"># ground truth as label map</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">w</span><span class="p">))</span>

<span class="n">dm</span> <span class="o">=</span> <span class="n">DiceMetric</span><span class="p">(</span>
    <span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;mean_batch&quot;</span><span class="p">,</span> <span class="n">return_with_label</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">num_classes</span><span class="o">=</span><span class="n">n_classes</span>
<span class="p">)</span>

<span class="n">raw_scores</span> <span class="o">=</span> <span class="n">dm</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">dm</span><span class="o">.</span><span class="n">aggregate</span><span class="p">())</span>

<span class="c1"># now compute the Dice loss which should be the same as 1 - raw_scores</span>
<span class="n">dl</span> <span class="o">=</span> <span class="n">DiceLoss</span><span class="p">(</span><span class="n">to_onehot_y</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">)</span>
<span class="n">loss</span> <span class="o">=</span> <span class="n">dl</span><span class="p">(</span><span class="n">one_hot</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">),</span> <span class="n">y</span><span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

<span class="nb">print</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">-</span> <span class="n">loss</span><span class="p">)</span>  <span class="c1"># same as raw_scores</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include Dice computation on the first channel/category of the prediction and
ground truth. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>, use <code class="docutils literal notranslate"><span class="pre">False</span></code> to exclude the background class.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – defines mode of reduction to the metrics, this will only apply reduction on <cite>not-nan</cite> values. The
available reduction modes are enumerated by <a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.utils.enums.MetricReduction</span></code></a>. If “none”, is
selected, the metric will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count. If True, aggregate() returns <cite>(metric, not_nans)</cite> where
<cite>not_nans</cite> counts the number of valid values in the result, and will have the same shape.</p></li>
<li><p><strong>ignore_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to ignore empty ground truth cases during calculation. If <cite>True</cite>, the <cite>NaN</cite> value will be
set for an empty ground truth cases, otherwise 1 will be set if the predictions of empty ground truth cases
are also empty.</p></li>
<li><p><strong>num_classes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – number of input channels (always including the background). When this is <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">y_pred.shape[1]</span></code> will be used. This option is useful when both <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are
single-channel class indices and the number of classes is not automatically inferred from data.</p></li>
<li><p><strong>return_with_label</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]]) – whether to return the metrics with label, only works when reduction is “mean_batch”.
If <cite>True</cite>, use “label_{index}” as the key corresponding to C channels; if <code class="docutils literal notranslate"><span class="pre">include_background</span></code> is True,
the index begins at “0”, otherwise at “1”. It can also take a list of label names.
The outcome will then be returned as a dictionary.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.DiceMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meandice.py#L143-L169"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.DiceMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction and aggregation logic for the output of <cite>compute_dice</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – defines mode of reduction as enumerated in <a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.utils.enums.MetricReduction</span></code></a>.
By default this will do no reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.DiceHelper">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">DiceHelper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">apply_argmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">activate</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean_batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">num_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigmoid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">softmax</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meandice.py#L210-L337"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.DiceHelper" title="Link to this definition">#</a></dt>
<dd><p>Compute Dice score between two tensors <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code>. This is used by <a class="reference internal" href="#monai.metrics.DiceMetric" title="monai.metrics.DiceMetric"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.DiceMetric</span></code></a>,
see the documentation for that class for input formats.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">DiceHelper</span>

<span class="n">n_classes</span><span class="p">,</span> <span class="n">batch_size</span> <span class="o">=</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">16</span>
<span class="n">spatial_shape</span> <span class="o">=</span> <span class="p">(</span><span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>

<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="o">*</span><span class="n">spatial_shape</span><span class="p">)</span><span class="o">.</span><span class="n">float</span><span class="p">()</span>  <span class="c1"># predictions</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">randint</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">n_classes</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="p">(</span><span class="n">batch_size</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="o">*</span><span class="n">spatial_shape</span><span class="p">))</span><span class="o">.</span><span class="n">long</span><span class="p">()</span>  <span class="c1"># ground truth</span>

<span class="n">score</span><span class="p">,</span> <span class="n">not_nans</span> <span class="o">=</span> <span class="n">DiceHelper</span><span class="p">(</span><span class="n">include_background</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">sigmoid</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">softmax</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">score</span><span class="p">,</span> <span class="n">not_nans</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether to include Dice computation on the first channel/category of the prediction and
ground truth. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>, use <code class="docutils literal notranslate"><span class="pre">False</span></code> to exclude the background class.</p></li>
<li><p><strong>threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if <code class="docutils literal notranslate"><span class="pre">True`,</span> <span class="pre">``y_pred</span></code> will be thresholded at a value of 0.5. Defaults to False.</p></li>
<li><p><strong>apply_argmax</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> are softmax activated outputs. If True, <cite>argmax</cite> will be performed to
get the discrete prediction. Defaults to the value of <code class="docutils literal notranslate"><span class="pre">not</span> <span class="pre">threshold</span></code>.</p></li>
<li><p><strong>activate</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if this and <code class="docutils literal notranslate"><span class="pre">threshold`</span> <span class="pre">are</span> <span class="pre">``True</span></code>, sigmoid activation is applied to <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> before
thresholding. Defaults to False.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the number of not-nan values.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – defines mode of reduction to the metrics, this will only apply reduction on <cite>not-nan</cite> values. The
available reduction modes are enumerated by <a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.utils.enums.MetricReduction</span></code></a>. If “none”, is
selected, the metric will not do reduction.</p></li>
<li><p><strong>ignore_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to ignore empty ground truth cases during calculation. If <cite>True</cite>, the <cite>NaN</cite> value will be
set for an empty ground truth cases, otherwise 1 will be set if the predictions of empty ground truth cases
are also empty.</p></li>
<li><p><strong>num_classes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – number of input channels (always including the background). When this is <code class="docutils literal notranslate"><span class="pre">None</span></code>,
<code class="docutils literal notranslate"><span class="pre">y_pred.shape[1]</span></code> will be used. This option is useful when both <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> and <code class="docutils literal notranslate"><span class="pre">y</span></code> are
single-channel class indices and the number of classes is not automatically inferred from data.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.DiceHelper.compute_channel">
<span class="sig-name descname"><span class="pre">compute_channel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meandice.py#L281-L298"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.DiceHelper.compute_channel" title="Link to this definition">#</a></dt>
<dd><p>Compute the dice metric for binary inputs which have only spatial dimensions. This method is called separately
for each batch item and for each channel of those items.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input predictions with shape HW[D].</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – ground truth with shape HW[D].</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="mean-iou">
<h2><cite>Mean IoU</cite><a class="headerlink" href="#mean-iou" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_iou">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_iou</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meaniou.py#L105-L147"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_iou" title="Link to this definition">#</a></dt>
<dd><p>Computes Intersection over Union (IoU) score metric from a batch of predictions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input data to compute, typical segmentation model output.
It must be one-hot format and first dim is batch, example shape: [16, 3, 32, 32]. The values
should be binarized.</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – ground truth to compute mean IoU metric. It must be one-hot format and first dim is batch.
The values should be binarized.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include IoU computation on the first channel of
the predicted output. Defaults to True.</p></li>
<li><p><strong>ignore_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to ignore empty ground truth cases during calculation.
If <cite>True</cite>, NaN value will be set for empty ground truth cases.
If <cite>False</cite>, 1 will be set if the predictions of empty ground truth cases are also empty.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>IoU scores per batch and per class, (shape [batch_size, num_classes]).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – when <cite>y_pred</cite> and <cite>y</cite> have different shapes.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MeanIoU">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MeanIoU</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_empty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meaniou.py#L22-L102"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MeanIoU" title="Link to this definition">#</a></dt>
<dd><p>Compute average Intersection over Union (IoU) score between two tensors.
It supports both multi-classes and multi-labels tasks.
Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
<cite>y_pred</cite> is expected to have binarized predictions and <cite>y</cite> should be in one-hot format. You can use suitable transforms
in <code class="docutils literal notranslate"><span class="pre">monai.transforms.post</span></code> first to achieve binarized values.
The <cite>include_background</cite> parameter can be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> to exclude
the first category (channel index 0) which is by convention assumed to be background. If the non-background
segmentations are small compared to the total image size they can get overwhelmed by the signal from the
background.
<cite>y_pred</cite> and <cite>y</cite> can be a list of channel-first Tensor (CHW[D]) or a batch-first Tensor (BCHW[D]).</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include IoU computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric, thus its shape equals to the shape of the metric.</p></li>
<li><p><strong>ignore_empty</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to ignore empty ground truth cases during calculation.
If <cite>True</cite>, NaN value will be set for empty ground truth cases.
If <cite>False</cite>, 1 will be set if the predictions of empty ground truth cases are also empty.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.MeanIoU.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/meaniou.py#L84-L102"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MeanIoU.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction logic for the output of <cite>compute_iou</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="generalized-dice-score">
<h2><cite>Generalized Dice Score</cite><a class="headerlink" href="#generalized-dice-score" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_generalized_dice">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_generalized_dice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">square</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sum_over_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/generalized_dice.py#L115-L198"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_generalized_dice" title="Link to this definition">#</a></dt>
<dd><p>Computes the Generalized Dice Score and returns a tensor with its per image values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<em>torch.Tensor</em>) – Binarized segmentation model output. It should be binarized, in one-hot format
and in the NCHW[D] format, where N is the batch dimension, C is the channel dimension, and the
remaining are the spatial dimensions.</p></li>
<li><p><strong>y</strong> (<em>torch.Tensor</em>) – Binarized ground-truth. It should be binarized, in one-hot format and have the same shape as <cite>y_pred</cite>.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include score computation on the first channel of the
predicted output. Defaults to True.</p></li>
<li><p><strong>weight_type</strong> (<em>Union</em><em>[</em><a class="reference internal" href="utils.html#monai.utils.enums.Weight" title="monai.utils.enums.Weight"><em>Weight</em></a><em>, </em><em>str</em><em>]</em><em>, </em><em>optional</em>) – {<code class="docutils literal notranslate"><span class="pre">&quot;square&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;simple&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;uniform&quot;</span></code>}. Type of function to
transform ground truth volume into a weight factor. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;square&quot;</span></code>.</p></li>
<li><p><strong>sum_over_labels</strong> (<em>bool</em>) – Whether to sum the numerator and denominator across all labels before the final computation.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Per batch and per class Generalized Dice Score, i.e., with the shape [batch_size, num_classes].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>torch.Tensor</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – If <cite>y_pred</cite> or <cite>y</cite> are not PyTorch tensors, if <cite>y_pred</cite> and <cite>y</cite> have less than three dimensions,
    or <cite>y_pred</cite> and <cite>y</cite> don’t have the same shape.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.GeneralizedDiceScore">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">GeneralizedDiceScore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weight_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">square</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/generalized_dice.py#L22-L112"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.GeneralizedDiceScore" title="Link to this definition">#</a></dt>
<dd><p>Compute the Generalized Dice Score metric between tensors.</p>
<p>This metric is the complement of the Generalized Dice Loss defined in:
Sudre, C. et. al. (2017) Generalised Dice overlap as a deep learning
loss function for highly unbalanced segmentations. DLMIA 2017.</p>
<p>The inputs <cite>y_pred</cite> and <cite>y</cite> are expected to be one-hot, binarized batch-first tensors, i.e., NCHW[D].</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include the background class (assumed to be in channel 0) in the
score computation. Defaults to True.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – Define mode of reduction to the metrics. Available reduction modes:
{<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.
Default value is changed from <cite>MetricReduction.MEAN_BATCH</cite> to <cite>MetricReduction.MEAN</cite> in v1.5.0.
Old versions computed <cite>mean</cite> when <cite>mean_batch</cite> was provided due to bug in reduction.</p></li>
<li><p><strong>weight_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.Weight" title="monai.utils.enums.Weight"><code class="xref py py-class docutils literal notranslate"><span class="pre">Weight</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – {<code class="docutils literal notranslate"><span class="pre">&quot;square&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;simple&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;uniform&quot;</span></code>}. Type of function to transform
ground truth volume into a weight factor. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;square&quot;</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – When the <cite>reduction</cite> is not one of MetricReduction enum.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.GeneralizedDiceScore.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/utils/deprecate_utils.py#L89-L112"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.GeneralizedDiceScore.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction logic for the output of <cite>compute_generalized_dice</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Aggregated metric value.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>torch.Tensor</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>ValueError</strong> – If the data to aggregate is not a PyTorch Tensor.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="area-under-the-roc-curve">
<h2><cite>Area under the ROC curve</cite><a class="headerlink" href="#area-under-the-roc-curve" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_roc_auc">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_roc_auc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">macro</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/rocauc.py#L115-L182"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_roc_auc" title="Link to this definition">#</a></dt>
<dd><p>Computes Area Under the Receiver Operating Characteristic Curve (ROC AUC). Referring to:
<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score">sklearn.metrics.roc_auc_score</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<em>torch.Tensor</em>) – input data to compute, typical classification model output.
the first dim must be batch, if multi-classes, it must be in One-Hot format.
for example: shape <cite>[16]</cite> or <cite>[16, 1]</cite> for a binary data, shape <cite>[16, 2]</cite> for 2 classes data.</p></li>
<li><p><strong>y</strong> (<em>torch.Tensor</em>) – ground truth to compute ROC AUC metric, the first dim must be batch.
if multi-classes, it must be in One-Hot format.
for example: shape <cite>[16]</cite> or <cite>[16, 1]</cite> for a binary data, shape <cite>[16, 2]</cite> for 2 classes data.</p></li>
<li><p><strong>average</strong> (<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><em>Average</em></a><em> | </em><em>str</em>) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>.</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>: calculate metrics for each label, and find their unweighted mean.</dt><dd><p>This does not take label imbalance into account.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>: calculate metrics for each label, and find their average,</dt><dd><p>weighted by support (the number of true instances for each label).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>: calculate metrics globally by considering each element of the label</dt><dd><p>indicator matrix as a label.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>: the scores for each class are returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> dimension is not one of [1, 2].</p></li>
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">y</span></code> dimension is not one of [1, 2].</p></li>
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">average</span></code> is not one of [“macro”, “weighted”, “micro”, “none”].</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>ROCAUC expects y to be comprised of 0’s and 1’s. <cite>y_pred</cite> must be either prob. estimates or confidence values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray | float | npt.ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.ROCAUCMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">ROCAUCMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">macro</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/rocauc.py#L29-L75"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.ROCAUCMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes Area Under the Receiver Operating Characteristic Curve (ROC AUC). Referring to:
<a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.roc_auc_score.html#sklearn.metrics.roc_auc_score">sklearn.metrics.roc_auc_score</a>.
The input <cite>y_pred</cite> and <cite>y</cite> can be a list of <cite>channel-first</cite> Tensor or a <cite>batch-first</cite> Tensor.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>average</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><code class="xref py py-class docutils literal notranslate"><span class="pre">Average</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>: calculate metrics for each label, and find their unweighted mean.</dt><dd><p>This does not take label imbalance into account.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>: calculate metrics for each label, and find their average,</dt><dd><p>weighted by support (the number of true instances for each label).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>: calculate metrics globally by considering each element of the label</dt><dd><p>indicator matrix as a label.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>: the scores for each class are returned.</p></li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.ROCAUCMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/rocauc.py#L60-L75"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.ROCAUCMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Typically <cite>y_pred</cite> and <cite>y</cite> are stored in the cumulative buffers at each iteration,
This function reads the buffers and computes the area under the ROC.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>average</strong> (<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><em>Average</em></a><em> | </em><em>str</em><em> | </em><em>None</em>) – {<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification. Defaults to <cite>self.average</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray | float | npt.ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="average-precision">
<h2><cite>Average Precision</cite><a class="headerlink" href="#average-precision" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_average_precision">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_average_precision</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">macro</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/average_precision.py#L119-L187"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_average_precision" title="Link to this definition">#</a></dt>
<dd><p>Computes Average Precision (AP). AP is a useful metric to evaluate a classifier when the classes are
imbalanced. It summarizes a Precision-Recall according to equation <a class="reference internal" href="#equation-ap">(1)</a>.
Referring to: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score">sklearn.metrics.average_precision_score</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<em>torch.Tensor</em>) – input data to compute, typical classification model output.
the first dim must be batch, if multi-classes, it must be in One-Hot format.
for example: shape <cite>[16]</cite> or <cite>[16, 1]</cite> for a binary data, shape <cite>[16, 2]</cite> for 2 classes data.</p></li>
<li><p><strong>y</strong> (<em>torch.Tensor</em>) – ground truth to compute AP metric, the first dim must be batch.
if multi-classes, it must be in One-Hot format.
for example: shape <cite>[16]</cite> or <cite>[16, 1]</cite> for a binary data, shape <cite>[16, 2]</cite> for 2 classes data.</p></li>
<li><p><strong>average</strong> (<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><em>Average</em></a><em> | </em><em>str</em>) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>.</p>
<ul>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>: calculate metrics for each label, and find their unweighted mean.</dt><dd><p>This does not take label imbalance into account.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>: calculate metrics for each label, and find their average,</dt><dd><p>weighted by support (the number of true instances for each label).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>: calculate metrics globally by considering each element of the label</dt><dd><p>indicator matrix as a label.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>: the scores for each class are returned.</p></li>
</ul>
</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">y_pred</span></code> dimension is not one of [1, 2].</p></li>
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">y</span></code> dimension is not one of [1, 2].</p></li>
<li><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">average</span></code> is not one of [“macro”, “weighted”, “micro”, “none”].</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Average Precision expects y to be comprised of 0’s and 1’s. <cite>y_pred</cite> must be either prob. estimates or confidence values.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>np.ndarray | float | npt.ArrayLike</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.AveragePrecisionMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">AveragePrecisionMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">macro</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/average_precision.py#L29-L86"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.AveragePrecisionMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes Average Precision (AP). AP is a useful metric to evaluate a classifier when the classes are
imbalanced. It can take values between 0.0 and 1.0, 1.0 being the best possible score.
It summarizes a Precision-Recall curve as the weighted mean of precisions achieved at each
threshold, with the increase in recall from the previous threshold used as the weight:</p>
<div class="math notranslate nohighlight" id="equation-ap">
<span class="eqno">(1)<a class="headerlink" href="#equation-ap" title="Link to this equation">#</a></span>\[\text{AP} = \sum_n (R_n - R_{n-1}) P_n\]</div>
<p>where <span class="math notranslate nohighlight">\(P_n\)</span> and <span class="math notranslate nohighlight">\(R_n\)</span> are the precision and recall at the <span class="math notranslate nohighlight">\(n^{th}\)</span> threshold.</p>
<p>Referring to: <a class="reference external" href="https://scikit-learn.org/stable/modules/generated/sklearn.metrics.average_precision_score">sklearn.metrics.average_precision_score</a>.</p>
<p>The input <cite>y_pred</cite> and <cite>y</cite> can be a list of <cite>channel-first</cite> Tensor or a <cite>batch-first</cite> Tensor.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>average</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><code class="xref py py-class docutils literal notranslate"><span class="pre">Average</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification.
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>.</p>
<ul class="simple">
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>: calculate metrics for each label, and find their unweighted mean.</dt><dd><p>This does not take label imbalance into account.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>: calculate metrics for each label, and find their average,</dt><dd><p>weighted by support (the number of true instances for each label).</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>: calculate metrics globally by considering each element of the label</dt><dd><p>indicator matrix as a label.</p>
</dd>
</dl>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>: the scores for each class are returned.</p></li>
</ul>
</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.AveragePrecisionMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">average</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/average_precision.py#L71-L86"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.AveragePrecisionMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Typically <cite>y_pred</cite> and <cite>y</cite> are stored in the cumulative buffers at each iteration,
This function reads the buffers and computes the Average Precision.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>average</strong> (<a class="reference internal" href="utils.html#monai.utils.enums.Average" title="monai.utils.enums.Average"><em>Average</em></a><em> | </em><em>str</em><em> | </em><em>None</em>) – {<code class="docutils literal notranslate"><span class="pre">&quot;macro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;weighted&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;micro&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>}
Type of averaging performed if not binary classification. Defaults to <cite>self.average</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>np.ndarray | float | npt.ArrayLike</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="confusion-matrix">
<h2><cite>Confusion matrix</cite><a class="headerlink" href="#confusion-matrix" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.get_confusion_matrix">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">get_confusion_matrix</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/confusion_matrix.py#L134-L176"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.get_confusion_matrix" title="Link to this definition">#</a></dt>
<dd><p>Compute confusion matrix. A tensor with the shape [BC4] will be returned. Where, the third dimension
represents the number of true positive, false positive, true negative and false negative values for
each channel of each sample within the input batch. Where, B equals to the batch size and C equals to
the number of classes that need to be computed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input data to compute. It must be one-hot format and first dim is batch.
The values should be binarized.</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – ground truth to compute the metric. It must be one-hot format and first dim is batch.
The values should be binarized.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include metric computation on the first channel of
the predicted output. Defaults to True.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – when <cite>y_pred</cite> and <cite>y</cite> have different shapes.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_confusion_matrix_metric">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_confusion_matrix_metric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">confusion_matrix</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/confusion_matrix.py#L179-L271"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_confusion_matrix_metric" title="Link to this definition">#</a></dt>
<dd><p>This function is used to compute confusion matrix related metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – [<code class="docutils literal notranslate"><span class="pre">&quot;sensitivity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;specificity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;precision&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;negative</span> <span class="pre">predictive</span> <span class="pre">value&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;miss</span> <span class="pre">rate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fall</span> <span class="pre">out&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;false</span> <span class="pre">discovery</span> <span class="pre">rate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;false</span> <span class="pre">omission</span> <span class="pre">rate&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;prevalence</span> <span class="pre">threshold&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;threat</span> <span class="pre">score&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;accuracy&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;balanced</span> <span class="pre">accuracy&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;f1</span> <span class="pre">score&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;matthews</span> <span class="pre">correlation</span> <span class="pre">coefficient&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fowlkes</span> <span class="pre">mallows</span> <span class="pre">index&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;informedness&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;markedness&quot;</span></code>]
Some of the metrics have multiple aliases (as shown in the wikipedia page aforementioned),
and you can also input those names instead.</p></li>
<li><p><strong>confusion_matrix</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Please see the doc string of the function <code class="docutils literal notranslate"><span class="pre">get_confusion_matrix</span></code> for more details.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – when the size of the last dimension of confusion_matrix is not 4.</p></li>
<li><p><strong>NotImplementedError</strong> – when specify a not implemented metric_name.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.ConfusionMatrixMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">ConfusionMatrixMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'hit_rate'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compute_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/confusion_matrix.py#L25-L131"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.ConfusionMatrixMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute confusion matrix related metrics. This function supports to calculate all metrics mentioned in:
<a class="reference external" href="https://en.wikipedia.org/wiki/Confusion_matrix">Confusion matrix</a>.
It can support both multi-classes and multi-labels classification and segmentation tasks.
<cite>y_preds</cite> is expected to have binarized predictions and <cite>y</cite> should be in one-hot format. You can use suitable transforms
in <code class="docutils literal notranslate"><span class="pre">monai.transforms.post</span></code> first to achieve binarized values.
The <cite>include_background</cite> parameter can be set to <code class="docutils literal notranslate"><span class="pre">False</span></code> for an instance to exclude
the first category (channel index 0) which is by convention assumed to be background. If the non-background
segmentations are small compared to the total image size they can get overwhelmed by the signal from the
background.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include metric computation on the first channel of
the predicted output. Defaults to True.</p></li>
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – [<code class="docutils literal notranslate"><span class="pre">&quot;sensitivity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;specificity&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;precision&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;negative</span> <span class="pre">predictive</span> <span class="pre">value&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;miss</span> <span class="pre">rate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fall</span> <span class="pre">out&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;false</span> <span class="pre">discovery</span> <span class="pre">rate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;false</span> <span class="pre">omission</span> <span class="pre">rate&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;prevalence</span> <span class="pre">threshold&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;threat</span> <span class="pre">score&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;accuracy&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;balanced</span> <span class="pre">accuracy&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;f1</span> <span class="pre">score&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;matthews</span> <span class="pre">correlation</span> <span class="pre">coefficient&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;fowlkes</span> <span class="pre">mallows</span> <span class="pre">index&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;informedness&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;markedness&quot;</span></code>]
Some of the metrics have multiple aliases (as shown in the wikipedia page aforementioned),
and you can also input those names instead.
Except for input only one metric, multiple metrics are also supported via input a sequence of metric names, such as
(“sensitivity”, “precision”, “recall”), if <code class="docutils literal notranslate"><span class="pre">compute_sample</span></code> is <code class="docutils literal notranslate"><span class="pre">True</span></code>, multiple <code class="docutils literal notranslate"><span class="pre">f</span></code> and <code class="docutils literal notranslate"><span class="pre">not_nans</span></code> will be
returned with the same order as input names when calling the class.</p></li>
<li><p><strong>compute_sample</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – when reducing, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, each sample’s metric will be computed based on each confusion matrix first.
if <code class="docutils literal notranslate"><span class="pre">False</span></code>, compute reduction on the confusion matrices first, defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns [(metric, not_nans), …]. If False,
aggregate() returns [metric, …].
Here <cite>not_nans</cite> count the number of not nans for True Positive, False Positive, True Negative and False Negative.
Its shape depends on the shape of the metric, and it has one more dimension with size 4. For example, if the shape
of the metric is [3, 3], <cite>not_nans</cite> has the shape [3, 3, 4].</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.ConfusionMatrixMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">compute_sample</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/confusion_matrix.py#L101-L131"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.ConfusionMatrixMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction for the confusion matrix values.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>compute_sample</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – when reducing, if <code class="docutils literal notranslate"><span class="pre">True</span></code>, each sample’s metric will be computed based on each confusion matrix first.
if <code class="docutils literal notranslate"><span class="pre">False</span></code>, compute reduction on the confusion matrices first, defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="hausdorff-distance">
<h2><cite>Hausdorff distance</cite><a class="headerlink" href="#hausdorff-distance" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_hausdorff_distance">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_hausdorff_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/hausdorff_distance.py#L132-L193"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_hausdorff_distance" title="Link to this definition">#</a></dt>
<dd><p>Compute the Hausdorff distance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – input data to compute, typical segmentation model output.
It must be one-hot format and first dim is batch, example shape: [16, 3, 32, 32]. The values
should be binarized.</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – ground truth to compute mean the distance. It must be one-hot format and first dim is batch.
The values should be binarized.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include distance computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – : [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>]
the metric used to compute surface distance. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>percentile</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – an optional float number between 0 and 100. If specified, the corresponding
percentile of the Hausdorff Distance rather than the maximum result will be achieved.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>directed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to calculate directed Hausdorff distance. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – spacing of pixel (or voxel). This parameter is relevant only if <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.
If a single number, isotropic spacing with that value is used for all images in the batch. If a sequence of numbers,
the length of the sequence must be equal to the image dimensions. This spacing will be used for all images in the batch.
If a sequence of sequences, the length of the outer sequence must be equal to the batch size.
If inner sequence has length 1, isotropic spacing with that value is used for all images in the batch,
else the inner sequence length must be equal to the image dimensions. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, spacing of unity is used
for all images in batch. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.HausdorffDistanceMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">HausdorffDistanceMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">percentile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">directed</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/hausdorff_distance.py#L28-L129"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.HausdorffDistanceMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Hausdorff Distance between two tensors. It can support both multi-classes and multi-labels tasks.
It supports both directed and non-directed Hausdorff distance calculation. In addition, specify the <cite>percentile</cite>
parameter can get the percentile of the distance. Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
<cite>y_preds</cite> is expected to have binarized predictions and <cite>y</cite> should be in one-hot format.
You can use suitable transforms in <code class="docutils literal notranslate"><span class="pre">monai.transforms.post</span></code> first to achieve binarized values.
<cite>y_preds</cite> and <cite>y</cite> can be a list of channel-first Tensor (CHW[D]) or a batch-first Tensor (BCHW[D]).
The implementation refers to <a class="reference external" href="https://github.com/deepmind/surface-distance">DeepMind’s implementation</a>.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include distance computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – : [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>]
the metric used to compute surface distance. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>percentile</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – an optional float number between 0 and 100. If specified, the corresponding
percentile of the Hausdorff Distance rather than the maximum result will be achieved.
Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>directed</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to calculate directed Hausdorff distance. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric, thus its shape equals to the shape of the metric.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.HausdorffDistanceMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/hausdorff_distance.py#L111-L129"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.HausdorffDistanceMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction logic for the output of <cite>compute_hausdorff_distance</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="average-surface-distance">
<h2><cite>Average surface distance</cite><a class="headerlink" href="#average-surface-distance" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_average_surface_distance">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_average_surface_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_distance.py#L123-L186"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_average_surface_distance" title="Link to this definition">#</a></dt>
<dd><p>This function is used to compute the Average Surface Distance from <cite>y_pred</cite> to <cite>y</cite>
under the default setting.
In addition, if sets <code class="docutils literal notranslate"><span class="pre">symmetric</span> <span class="pre">=</span> <span class="pre">True</span></code>, the average symmetric surface distance between
these two inputs will be returned.
The implementation refers to <a class="reference external" href="https://github.com/deepmind/surface-distance">DeepMind’s implementation</a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – input data to compute, typical segmentation model output.
It must be one-hot format and first dim is batch, example shape: [16, 3, 32, 32]. The values
should be binarized.</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – ground truth to compute mean the distance. It must be one-hot format and first dim is batch.
The values should be binarized.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include distance computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>symmetric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to calculate the symmetric average surface distance between
<cite>seg_pred</cite> and <cite>seg_gt</cite>. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – : [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>]
the metric used to compute surface distance. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – spacing of pixel (or voxel). This parameter is relevant only if <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.
If a single number, isotropic spacing with that value is used for all images in the batch. If a sequence of numbers,
the length of the sequence must be equal to the image dimensions. This spacing will be used for all images in the batch.
If a sequence of sequences, the length of the outer sequence must be equal to the batch size.
If inner sequence has length 1, isotropic spacing with that value is used for all images in the batch,
else the inner sequence length must be equal to the image dimensions. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, spacing of unity is used
for all images in batch. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.SurfaceDistanceMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">SurfaceDistanceMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">symmetric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_distance.py#L26-L120"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.SurfaceDistanceMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Surface Distance between two tensors. It can support both multi-classes and multi-labels tasks.
It supports both symmetric and asymmetric surface distance calculation.
Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
<cite>y_preds</cite> is expected to have binarized predictions and <cite>y</cite> should be in one-hot format.
You can use suitable transforms in <code class="docutils literal notranslate"><span class="pre">monai.transforms.post</span></code> first to achieve binarized values.
<cite>y_preds</cite> and <cite>y</cite> can be a list of channel-first Tensor (CHW[D]) or a batch-first Tensor (BCHW[D]).</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include distance computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>symmetric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to calculate the symmetric average surface distance between
<cite>seg_pred</cite> and <cite>seg_gt</cite>. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – : [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>]
the metric used to compute surface distance. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric, thus its shape equals to the shape of the metric.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.SurfaceDistanceMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_distance.py#L102-L120"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.SurfaceDistanceMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction logic for the output of <cite>compute_average_surface_distance</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="surface-dice">
<h2><cite>Surface dice</cite><a class="headerlink" href="#surface-dice" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_surface_dice">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_surface_dice</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_subvoxels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_dice.py#L137-L279"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_surface_dice" title="Link to this definition">#</a></dt>
<dd><p>This function computes the (Normalized) Surface Dice (NSD) between the two tensors <cite>y_pred</cite> (referred to as
<span class="math notranslate nohighlight">\(\hat{Y}\)</span>) and <cite>y</cite> (referred to as <span class="math notranslate nohighlight">\(Y\)</span>). This metric determines which fraction of a segmentation
boundary is correctly predicted. A boundary element is considered correctly predicted if the closest distance to the
reference boundary is smaller than or equal to the specified threshold related to the acceptable amount of deviation
in pixels. The NSD is bounded between 0 and 1.</p>
<p>This implementation supports multi-class tasks with an individual threshold <span class="math notranslate nohighlight">\(\tau_c\)</span> for each class <span class="math notranslate nohighlight">\(c\)</span>.
The class-specific NSD for batch index <span class="math notranslate nohighlight">\(b\)</span>, <span class="math notranslate nohighlight">\(\operatorname {NSD}_{b,c}\)</span>, is computed using the function:</p>
<div class="math notranslate nohighlight" id="equation-nsd">
<span class="eqno">(2)<a class="headerlink" href="#equation-nsd" title="Link to this equation">#</a></span>\[\operatorname {NSD}_{b,c} \left(Y_{b,c}, \hat{Y}_{b,c}\right) = \frac{\left|\mathcal{D}_{Y_{b,c}}^{'}\right| +
\left| \mathcal{D}_{\hat{Y}_{b,c}}^{'} \right|}{\left|\mathcal{D}_{Y_{b,c}}\right| +
\left|\mathcal{D}_{\hat{Y}_{b,c}}\right|}\]</div>
<p>with <span class="math notranslate nohighlight">\(\mathcal{D}_{Y_{b,c}}\)</span> and <span class="math notranslate nohighlight">\(\mathcal{D}_{\hat{Y}_{b,c}}\)</span> being two sets of nearest-neighbor
distances. <span class="math notranslate nohighlight">\(\mathcal{D}_{Y_{b,c}}\)</span> is computed from the predicted segmentation boundary towards the reference
segmentation boundary and vice-versa for <span class="math notranslate nohighlight">\(\mathcal{D}_{\hat{Y}_{b,c}}\)</span>. <span class="math notranslate nohighlight">\(\mathcal{D}_{Y_{b,c}}^{'}\)</span> and
<span class="math notranslate nohighlight">\(\mathcal{D}_{\hat{Y}_{b,c}}^{'}\)</span> refer to the subsets of distances that are smaller or equal to the
acceptable distance <span class="math notranslate nohighlight">\(\tau_c\)</span>:</p>
<div class="math notranslate nohighlight">
\[\mathcal{D}_{Y_{b,c}}^{'} = \{ d \in \mathcal{D}_{Y_{b,c}} \, | \, d \leq \tau_c \}.\]</div>
<p>In the case of a class neither being present in the predicted segmentation, nor in the reference segmentation,
a nan value will be returned for this class. In the case of a class being present in only one of predicted
segmentation or reference segmentation, the class NSD will be 0.</p>
<p>This implementation is based on <a class="reference external" href="https://arxiv.org/abs/2111.05408">https://arxiv.org/abs/2111.05408</a> and supports 2D and 3D images.
The computation of boundaries follows DeepMind’s implementation
<a class="github reference external" href="https://github.com/deepmind/surface-distance">deepmind/surface-distance</a> when <cite>use_subvoxels=True</cite>; Otherwise the length of a segmentation
boundary is interpreted as the number of its edge pixels.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Predicted segmentation, typically segmentation model output.
It must be a one-hot encoded, batch-first tensor [B,C,H,W] or [B,C,H,W,D].</p></li>
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Reference segmentation.
It must be a one-hot encoded, batch-first tensor [B,C,H,W] or [B,C,H,W,D].</p></li>
<li><p><strong>class_thresholds</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – List of class-specific thresholds.
The thresholds relate to the acceptable amount of deviation in the segmentation boundary in pixels.
Each threshold needs to be a finite, non-negative number.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include the surface dice computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The metric used to compute surface distances.
One of [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>].
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – spacing of pixel (or voxel). This parameter is relevant only if <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.
If a single number, isotropic spacing with that value is used for all images in the batch. If a sequence of numbers,
the length of the sequence must be equal to the image dimensions. This spacing will be used for all images in the batch.
If a sequence of sequences, the length of the outer sequence must be equal to the batch size.
If inner sequence has length 1, isotropic spacing with that value is used for all images in the batch,
else the inner sequence length must be equal to the image dimensions. If <code class="docutils literal notranslate"><span class="pre">None</span></code>, spacing of unity is used
for all images in batch. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
<li><p><strong>use_subvoxels</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to use subvoxel distances. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – If <cite>y_pred</cite> and/or <cite>y</cite> are not PyTorch tensors.</p></li>
<li><p><strong>ValueError</strong> – If <cite>y_pred</cite> and/or <cite>y</cite> do not have four dimensions.</p></li>
<li><p><strong>ValueError</strong> – If <cite>y_pred</cite> and/or <cite>y</cite> have different shapes.</p></li>
<li><p><strong>ValueError</strong> – If <cite>y_pred</cite> and/or <cite>y</cite> are not one-hot encoded</p></li>
<li><p><strong>ValueError</strong> – If the number of channels of <cite>y_pred</cite> and/or <cite>y</cite> is different from the number of class thresholds.</p></li>
<li><p><strong>ValueError</strong> – If any class threshold is not finite.</p></li>
<li><p><strong>ValueError</strong> – If any class threshold is negative.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Pytorch Tensor of shape [B,C], containing the NSD values <span class="math notranslate nohighlight">\(\operatorname {NSD}_{b,c}\)</span> for each batch index
<span class="math notranslate nohighlight">\(b\)</span> and class <span class="math notranslate nohighlight">\(c\)</span>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.SurfaceDiceMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">SurfaceDiceMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">class_thresholds</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_subvoxels</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_dice.py#L26-L134"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.SurfaceDiceMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes the Normalized Surface Dice (NSD) for each batch sample and class of
predicted segmentations <cite>y_pred</cite> and corresponding reference segmentations <cite>y</cite> according to equation <a class="reference internal" href="#equation-nsd">(2)</a>.
This implementation is based on <a class="reference external" href="https://arxiv.org/abs/2111.05408">https://arxiv.org/abs/2111.05408</a> and supports 2D and 3D images.
Be aware that by default (<cite>use_subvoxels=False</cite>), the computation of boundaries is different from DeepMind’s
implementation <a class="github reference external" href="https://github.com/deepmind/surface-distance">deepmind/surface-distance</a>.
In this implementation, the length/area of a segmentation boundary is
interpreted as the number of its edge pixels. In DeepMind’s implementation, the length of a segmentation boundary
depends on the local neighborhood (cf. <a class="reference external" href="https://arxiv.org/abs/1809.04430">https://arxiv.org/abs/1809.04430</a>).
This issue is discussed here: <a class="github reference external" href="https://github.com/Project-MONAI/MONAI/issues/4103">Project-MONAI/MONAI#4103</a>.</p>
<p>The class- and batch sample-wise NSD values can be aggregated with the function <cite>aggregate</cite>.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>class_thresholds</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – List of class-specific thresholds.
The thresholds relate to the acceptable amount of deviation in the segmentation boundary in pixels.
Each threshold needs to be a finite, non-negative number.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to include NSD computation on the first channel of the predicted output.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – The metric used to compute surface distances.
One of [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>].
Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count.
Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.
<cite>not_nans</cite> is the number of batch samples for which not all class-specific NSD values were nan values.
If set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, the function <cite>aggregate</cite> will return both the aggregated NSD and the <cite>not_nans</cite> count.
If set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, <cite>aggregate</cite> will only return the aggregated NSD.</p></li>
<li><p><strong>use_subvoxels</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – Whether to use subvoxel distances. Defaults to <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.SurfaceDiceMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/surface_dice.py#L113-L134"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.SurfaceDiceMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Aggregates the output of <cite>_compute_tensor</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If <cite>get_not_nans</cite> is set to <code class="docutils literal notranslate"><span class="pre">True</span></code>, this function returns the aggregated NSD and the <cite>not_nans</cite> count.
If <cite>get_not_nans</cite> is set to <code class="docutils literal notranslate"><span class="pre">False</span></code>, this function returns only the aggregated NSD.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="panopticqualitymetric">
<h2><cite>PanopticQualityMetric</cite><a class="headerlink" href="#panopticqualitymetric" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_panoptic_quality">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_panoptic_quality</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pq'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_iou_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_numerator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_confusion_matrix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/panoptic_quality.py#L155-L219"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_panoptic_quality" title="Link to this definition">#</a></dt>
<dd><p>Computes Panoptic Quality (PQ). If specifying <cite>metric_name</cite> to “SQ” or “RQ”,
Segmentation Quality (SQ) or Recognition Quality (RQ) will be returned instead.</p>
<p>In addition, if <cite>output_confusion_matrix</cite> is True, the function will return a tensor with shape 4, which
represents the true positive, false positive, false negative and the sum of iou. These four values are used to
calculate PQ, and returning them directly enables further calculation over all images.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input data to compute, it must be in the form of HW and have integer type.</p></li>
<li><p><strong>gt</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – ground truth. It must have the same shape as <cite>pred</cite> and have integer type.</p></li>
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – output metric. The value can be “pq”, “sq” or “rq”.</p></li>
<li><p><strong>remap</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to remap <cite>pred</cite> and <cite>gt</cite> to ensure contiguous ordering of instance id.</p></li>
<li><p><strong>match_iou_threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – IOU threshold to determine the pairing between <cite>pred</cite> and <cite>gt</cite>. Usually,
it should &gt;= 0.5, the pairing between instances of <cite>pred</cite> and <cite>gt</cite> are identical.
If set <cite>match_iou_threshold</cite> &lt; 0.5, this function uses Munkres assignment to find the
maximal amount of unique pairing.</p></li>
<li><p><strong>smooth_numerator</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – a small constant added to the numerator to avoid zero.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – when <cite>pred</cite> and <cite>gt</cite> have different shapes.</p></li>
<li><p><strong>ValueError</strong> – when <cite>match_iou_threshold</cite> &lt;= 0.0 or &gt; 1.0.</p></li>
</ul>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.PanopticQualityMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">PanopticQualityMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">num_classes</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metric_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'pq'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean_batch</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_iou_threshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_numerator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/panoptic_quality.py#L27-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.PanopticQualityMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Panoptic Quality between two instance segmentation masks. If specifying <cite>metric_name</cite> to “SQ” or “RQ”,
Segmentation Quality (SQ) or Recognition Quality (RQ) will be returned instead.</p>
<p>Panoptic Quality is a metric used in panoptic segmentation tasks. This task unifies the typically distinct tasks
of semantic segmentation (assign a class label to each pixel) and
instance segmentation (detect and segment each object instance). Compared with semantic segmentation, panoptic
segmentation distinguish different instances that belong to same class.
Compared with instance segmentation, panoptic segmentation does not allow overlap and only one semantic label and
one instance id can be assigned to each pixel.
Please refer to the following paper for more details:
<a class="reference external" href="https://openaccess.thecvf.com/content_CVPR_2019/papers/Kirillov_Panoptic_Segmentation_CVPR_2019_paper.pdf">https://openaccess.thecvf.com/content_CVPR_2019/papers/Kirillov_Panoptic_Segmentation_CVPR_2019_paper.pdf</a></p>
<p>This class also refers to the following implementation:
<a class="github reference external" href="https://github.com/TissueImageAnalytics/CoNIC">TissueImageAnalytics/CoNIC</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>num_classes</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of classes. The number should not count the background.</p></li>
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – output metric. The value can be “pq”, “sq” or “rq”.
Except for input only one metric, multiple metrics are also supported via input a sequence of metric names
such as (“pq”, “sq”, “rq”). If input a sequence, a list of results with the same order
as the input names will be returned.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p></li>
<li><p><strong>match_iou_threshold</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – IOU threshold to determine the pairing between <cite>y_pred</cite> and <cite>y</cite>. Usually,
it should &gt;= 0.5, the pairing between instances of <cite>y_pred</cite> and <cite>y</cite> are identical.
If set <cite>match_iou_threshold</cite> &lt; 0.5, this function uses Munkres assignment to find the
maximal amount of unique pairing.</p></li>
<li><p><strong>smooth_numerator</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – a small constant added to the numerator to avoid zero.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.PanopticQualityMetric.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/panoptic_quality.py#L125-L152"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.PanopticQualityMetric.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Execute reduction logic for the output of <cite>compute_panoptic_quality</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <cite>self.reduction</cite>. if “none”, will not do reduction.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="mean-squared-error">
<h2><cite>Mean squared error</cite><a class="headerlink" href="#mean-squared-error" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MSEMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MSEMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L88-L114"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MSEMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Mean Squared Error between two tensors using function:</p>
<div class="math notranslate nohighlight">
\[\operatorname {MSE}\left(Y, \hat{Y}\right) =\frac {1}{n}\sum _{i=1}^{n}\left(y_i-\hat{y_i} \right)^{2}.\]</div>
<p>More info: <a class="reference external" href="https://en.wikipedia.org/wiki/Mean_squared_error">https://en.wikipedia.org/wiki/Mean_squared_error</a></p>
<p>Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
Both <cite>y_pred</cite> and <cite>y</cite> are expected to be real-valued, where <cite>y_pred</cite> is output from a regression model.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="mean-absolute-error">
<h2><cite>Mean absolute error</cite><a class="headerlink" href="#mean-absolute-error" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MAEMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MAEMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L117-L143"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MAEMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Mean Absolute Error between two tensors using function:</p>
<div class="math notranslate nohighlight">
\[\operatorname {MAE}\left(Y, \hat{Y}\right) =\frac {1}{n}\sum _{i=1}^{n}\left|y_i-\hat{y_i}\right|.\]</div>
<p>More info: <a class="reference external" href="https://en.wikipedia.org/wiki/Mean_absolute_error">https://en.wikipedia.org/wiki/Mean_absolute_error</a></p>
<p>Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
Both <cite>y_pred</cite> and <cite>y</cite> are expected to be real-valued, where <cite>y_pred</cite> is output from a regression model.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="root-mean-squared-error">
<h2><cite>Root mean squared error</cite><a class="headerlink" href="#root-mean-squared-error" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.RMSEMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">RMSEMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L146-L174"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.RMSEMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Root Mean Squared Error between two tensors using function:</p>
<div class="math notranslate nohighlight">
\[\operatorname {RMSE}\left(Y, \hat{Y}\right) ={ \sqrt{ \frac {1}{n}\sum _{i=1}^{n}\left(y_i-\hat{y_i}\right)^2 } } \
= \sqrt {\operatorname{MSE}\left(Y, \hat{Y}\right)}.\]</div>
<p>More info: <a class="reference external" href="https://en.wikipedia.org/wiki/Root-mean-square_deviation">https://en.wikipedia.org/wiki/Root-mean-square_deviation</a></p>
<p>Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
Both <cite>y_pred</cite> and <cite>y</cite> are expected to be real-valued, where <cite>y_pred</cite> is output from a regression model.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="peak-signal-to-noise-ratio">
<h2><cite>Peak signal to noise ratio</cite><a class="headerlink" href="#peak-signal-to-noise-ratio" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.PSNRMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">PSNRMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L177-L213"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.PSNRMetric" title="Link to this definition">#</a></dt>
<dd><p>Compute Peak Signal To Noise Ratio between two tensors using function:</p>
<div class="math notranslate nohighlight">
\[\operatorname{PSNR}\left(Y, \hat{Y}\right) = 20 \cdot \log_{10} \left({\mathit{MAX}}_Y\right) \
-10 \cdot \log_{10}\left(\operatorname{MSE\left(Y, \hat{Y}\right)}\right)\]</div>
<p>More info: <a class="reference external" href="https://en.wikipedia.org/wiki/Peak_signal-to-noise_ratio">https://en.wikipedia.org/wiki/Peak_signal-to-noise_ratio</a></p>
<p>Help taken from:
<a class="github reference external" href="https://github.com/tensorflow/tensorflow/blob/master/tensorflow/python/ops/image_ops_impl.py">tensorflow/tensorflow</a> line 4139</p>
<p>Input <cite>y_pred</cite> is compared with ground truth <cite>y</cite>.
Both <cite>y_pred</cite> and <cite>y</cite> are expected to be real-valued, where <cite>y_pred</cite> is output from a regression model.</p>
<p>Example of the typical execution steps of this metric class follows <a class="reference internal" href="#monai.metrics.Cumulative" title="monai.metrics.metric.Cumulative"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.metrics.metric.Cumulative</span></code></a>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>max_val</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – The dynamic range of the images/volumes (i.e., the difference between the
maximum and the minimum allowed values e.g. 255 for a uint8 image).</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="structural-similarity-index-measure">
<h2><cite>Structural similarity index measure</cite><a class="headerlink" href="#structural-similarity-index-measure" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.regression.SSIMMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.regression.</span></span><span class="sig-name descname"><span class="pre">SSIMMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spatial_dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">gaussian</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">win_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L228-L326"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.regression.SSIMMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes the Structural Similarity Index Measure (SSIM).</p>
<div class="math notranslate nohighlight">
\[\operatorname {SSIM}(x,y) =\frac {(2 \mu_x \mu_y + c_1)(2 \sigma_{xy} + c_2)}{((\mu_x^2 + \
        \mu_y^2 + c_1)(\sigma_x^2 + \sigma_y^2 + c_2)}\]</div>
<dl class="simple">
<dt>For more info, visit</dt><dd><p><a class="reference external" href="https://vicuesoft.com/glossary/term/ssim-ms-ssim/">https://vicuesoft.com/glossary/term/ssim-ms-ssim/</a></p>
</dd>
<dt>SSIM reference paper:</dt><dd><p>Wang, Zhou, et al. “Image quality assessment: from error visibility to structural
similarity.” IEEE transactions on image processing 13.4 (2004): 600-612.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spatial_dims</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of spatial dimensions of the input images.</p></li>
<li><p><strong>data_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – value range of input images. (usually 1.0 or 255)</p></li>
<li><p><strong>kernel_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">KernelType</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – type of kernel, can be “gaussian” or “uniform”.</p></li>
<li><p><strong>win_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]) – window size of kernel</p></li>
<li><p><strong>kernel_sigma</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – standard deviation for Gaussian kernel.</p></li>
<li><p><strong>k1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – stability constant used in the luminance denominator</p></li>
<li><p><strong>k2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – stability constant used in the contrast denominator</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="multi-scale-structural-similarity-index-measure">
<h2><cite>Multi-scale structural similarity index measure</cite><a class="headerlink" href="#multi-scale-structural-similarity-index-measure" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MultiScaleSSIMMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MultiScaleSSIMMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spatial_dims</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">gaussian</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">11</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kernel_sigma</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.5</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k1</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.01</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">k2</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.03</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">weights</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0.0448,</span> <span class="pre">0.2856,</span> <span class="pre">0.3001,</span> <span class="pre">0.2363,</span> <span class="pre">0.1333)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/regression.py#L434-L501"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MultiScaleSSIMMetric" title="Link to this definition">#</a></dt>
<dd><p>Computes the Multi-Scale Structural Similarity Index Measure (MS-SSIM).</p>
<dl class="simple">
<dt>MS-SSIM reference paper:</dt><dd><p>Wang, Z., Simoncelli, E.P. and Bovik, A.C., 2003, November. “Multiscale structural
similarity for image quality assessment.” In The Thirty-Seventh Asilomar Conference
on Signals, Systems &amp; Computers, 2003 (Vol. 2, pp. 1398-1402). IEEE</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spatial_dims</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of spatial dimensions of the input images.</p></li>
<li><p><strong>data_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – value range of input images. (usually 1.0 or 255)</p></li>
<li><p><strong>kernel_type</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">KernelType</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – type of kernel, can be “gaussian” or “uniform”.</p></li>
<li><p><strong>kernel_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]) – size of kernel</p></li>
<li><p><strong>kernel_sigma</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]) – standard deviation for Gaussian kernel.</p></li>
<li><p><strong>k1</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – stability constant used in the luminance denominator</p></li>
<li><p><strong>k2</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – stability constant used in the contrast denominator</p></li>
<li><p><strong>weights</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – parameters for image similarity and contrast sensitivity at different resolution scores.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only execute reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans)</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
<section id="frechet-inception-distance">
<h2><cite>Fréchet Inception Distance</cite><a class="headerlink" href="#frechet-inception-distance" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_frechet_distance">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_frechet_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mu_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mu_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">epsilon</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-06</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/fid.py#L89-L110"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_frechet_distance" title="Link to this definition">#</a></dt>
<dd><p>The Frechet distance between multivariate normal distributions.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.FIDMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">FIDMetric</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/fid.py#L23-L37"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.FIDMetric" title="Link to this definition">#</a></dt>
<dd><p>Frechet Inception Distance (FID). The FID calculates the distance between two distributions of feature vectors.
Based on: Heusel M. et al. “Gans trained by a two time-scale update rule converge to a local nash equilibrium.”
<a class="reference external" href="https://arxiv.org/abs/1706.08500">https://arxiv.org/abs/1706.08500</a>. The inputs for this metric should be two groups of feature vectors (with format
(number images, number of features)) extracted from a pretrained network.</p>
<p>Originally, it was proposed to use the activations of the pool_3 layer of an Inception v3 pretrained with Imagenet.
However, others networks pretrained on medical datasets can be used as well (for example, RadImageNwt for 2D and
MedicalNet for 3D images). If the chosen model output is not a scalar, a global spatia average pooling should be
used.</p>
</dd></dl>

</section>
<section id="maximum-mean-discrepancy">
<h2><cite>Maximum Mean Discrepancy</cite><a class="headerlink" href="#maximum-mean-discrepancy" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.compute_mmd">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">compute_mmd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y_mapping</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/mmd.py#L43-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.compute_mmd" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – first sample (e.g., the reference image). Its shape is (B,C,W,H) for 2D data and (B,C,W,H,D) for 3D.</p></li>
<li><p><strong>y_pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – second sample (e.g., the reconstructed image). It has similar shape as y.</p></li>
<li><p><strong>y_mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Callable to transform the y tensors before computing the metric.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MMDMetric">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MMDMetric</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/mmd.py#L21-L40"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MMDMetric" title="Link to this definition">#</a></dt>
<dd><p>Unbiased Maximum Mean Discrepancy (MMD) is a kernel-based method for measuring the similarity between two
distributions. It is a non-negative metric where a smaller value indicates a closer match between the two
distributions.</p>
<p>Gretton, A., et al,, 2012.  A kernel two-sample test. The Journal of Machine Learning Research, 13(1), pp.723-773.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>y_mapping</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Callable to transform the y tensors before computing the metric. It is usually a Gaussian or Laplace
filter, but it can be any function that takes a tensor as input and returns a tensor as output such as a
feature extractor or an Identity function., e.g. <cite>y_mapping = lambda x: x.square()</cite>.</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="cumulative-average">
<h2><cite>Cumulative average</cite><a class="headerlink" href="#cumulative-average" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.CumulativeAverage">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">CumulativeAverage</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/cumulative_average.py#L23-L162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeAverage" title="Link to this definition">#</a></dt>
<dd><p>A utility class to keep track of average values. For example during training/validation loop,
we need to accumulate the per-batch metrics and calculate the final average value for the whole dataset.
When training in multi-gpu environment, with DistributedDataParallel, it will average across the processes.</p>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">CumulativeAverage</span>

<span class="n">run_avg</span> <span class="o">=</span> <span class="n">CumulativeAverage</span><span class="p">()</span>
<span class="n">batch_size</span> <span class="o">=</span> <span class="mi">8</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">train_set</span><span class="p">)):</span>
    <span class="o">...</span>
    <span class="n">val</span> <span class="o">=</span> <span class="n">calc_metric</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">)</span> <span class="c1">#some metric value</span>
    <span class="n">run_avg</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">count</span><span class="o">=</span><span class="n">batch_size</span><span class="p">)</span>

<span class="n">val_avg</span> <span class="o">=</span> <span class="n">run_avg</span><span class="o">.</span><span class="n">aggregate</span><span class="p">()</span> <span class="c1">#average value</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.CumulativeAverage.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/cumulative_average.py#L81-L105"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeAverage.aggregate" title="Link to this definition">#</a></dt>
<dd><p>returns the total average value (averaged across processes)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to_numpy</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to convert to numpy array. Defaults to True</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.CumulativeAverage.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">val</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/cumulative_average.py#L107-L162"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeAverage.append" title="Link to this definition">#</a></dt>
<dd><dl class="simple">
<dt>Append with a new value, and an optional count. Any data type is supported that is convertable</dt><dd><p>with torch.as_tensor() e.g. number, list, numpy array, or Tensor.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>val</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – value (e.g. number, list, numpy array or Tensor) to keep track of</p></li>
<li><p><strong>count</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – count (e.g. number, list, numpy array or Tensor), to update the contribution count</p></li>
</ul>
</dd>
</dl>
<dl>
<dt>For example:</dt><dd><p># a simple constant tracking
avg = CumulativeAverage()
avg.append(0.6)
avg.append(0.8)
print(avg.aggregate()) #prints 0.7</p>
<p># an array tracking, e.g. metrics from 3 classes
avg= CumulativeAverage()
avg.append([0.2, 0.4, 0.4])
avg.append([0.4, 0.6, 0.4])
print(avg.aggregate()) #prints [0.3, 0.5. 0.4]</p>
<p># different contributions / counts
avg= CumulativeAverage()
avg.append(1, count=4) #avg metric 1 coming from a batch of 4
avg.append(2, count=6) #avg metric 2 coming from a batch of 6
print(avg.aggregate()) #prints 1.6 == (1*4 +2*6)/(4+6)</p>
<p># different contributions / counts
avg= CumulativeAverage()
avg.append([0.5, 0.5, 0], count=[1, 1, 0]) # last elements count is zero to ignore it
avg.append([0.5, 0.5, 0.5], count=[1, 1, 1]) #
print(avg.aggregate()) #prints [0.5, 0.5, 0,5] == ([0.5, 0.5, 0] + [0.5, 0.5, 0.5]) / ([1, 1, 0] + [1, 1, 1])</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.CumulativeAverage.get_current">
<span class="sig-name descname"><span class="pre">get_current</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">to_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/cumulative_average.py#L58-L79"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeAverage.get_current" title="Link to this definition">#</a></dt>
<dd><p>returns the most recent value (averaged across processes)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>to_numpy</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to convert to numpy array. Defaults to True</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.metrics.CumulativeAverage.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/cumulative_average.py#L49-L56"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.CumulativeAverage.reset" title="Link to this definition">#</a></dt>
<dd><p>Reset all  stats</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="metrics-reloaded-binary">
<h2><cite>Metrics reloaded binary</cite><a class="headerlink" href="#metrics-reloaded-binary" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MetricsReloadedBinary">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricsReloadedBinary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/wrapper.py#L79-L179"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MetricsReloadedBinary" title="Link to this definition">#</a></dt>
<dd><p>Wraps the binary pairwise metrics of MetricsReloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Name of a binary metric from the MetricsReloaded package.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric,
thus its shape equals to the shape of the metric.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricsReloadedBinary</span>

<span class="n">metric_name</span> <span class="o">=</span> <span class="s2">&quot;Cohens Kappa&quot;</span>
<span class="n">metric</span> <span class="o">=</span> <span class="n">MetricsReloadedBinary</span><span class="p">(</span><span class="n">metric_name</span><span class="o">=</span><span class="n">metric_name</span><span class="p">)</span>

<span class="c1"># first iteration</span>
<span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1"># second iteration</span>
<span class="c1"># shape [batch=1, channel=1, 2, 2]</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]]]])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">],</span> <span class="p">[</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">]]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1"># aggregate</span>
<span class="c1"># shape ([batch=2, channel=1])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>  <span class="c1"># tensor([[0.5], [0.2]])</span>

<span class="c1"># reset</span>
<span class="n">metric</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="metrics-reloaded-categorical">
<h2><cite>Metrics reloaded categorical</cite><a class="headerlink" href="#metrics-reloaded-categorical" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.metrics.MetricsReloadedCategorical">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.metrics.</span></span><span class="sig-name descname"><span class="pre">MetricsReloadedCategorical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metric_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_background</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">get_not_nans</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">smooth_dr</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1e-05</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/wrapper.py#L182-L302"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.MetricsReloadedCategorical" title="Link to this definition">#</a></dt>
<dd><p>Wraps the categorical pairwise metrics of MetricsReloaded.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>metric_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Name of a categorical metric from the MetricsReloaded package.</p></li>
<li><p><strong>include_background</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to include computation on the first channel of
the predicted output. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define mode of reduction to the metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>. if “none”, will not do reduction.</p></li>
<li><p><strong>get_not_nans</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to return the <cite>not_nans</cite> count, if True, aggregate() returns (metric, not_nans).
Here <cite>not_nans</cite> count the number of not nans for the metric,
thus its shape equals to the shape of the metric.</p></li>
<li><p><strong>smooth_dr</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – a small constant added to the denominator to avoid nan. OBS: should be greater than zero.</p></li>
</ul>
</dd>
</dl>
<p>Example:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">torch</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">monai.metrics</span><span class="w"> </span><span class="kn">import</span> <span class="n">MetricsReloadedCategorical</span>

<span class="n">metric_name</span> <span class="o">=</span> <span class="s2">&quot;Weighted Cohens Kappa&quot;</span>
<span class="n">metric</span> <span class="o">=</span> <span class="n">MetricsReloadedCategorical</span><span class="p">(</span><span class="n">metric_name</span><span class="o">=</span><span class="n">metric_name</span><span class="p">)</span>

<span class="c1"># first iteration</span>
<span class="c1"># shape [bach=1, channel=3, 2, 2]</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]]])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1"># second iteration</span>
<span class="c1"># shape [batch=1, channel=3, 2, 2]</span>
<span class="n">y_pred</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]]])</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">tensor</span><span class="p">([[[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">],</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]],</span> <span class="p">[[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">],</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]]]])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y</span><span class="p">))</span>

<span class="c1"># aggregate</span>
<span class="c1"># shape ([batch=2, channel=1])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">metric</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="n">reduction</span><span class="o">=</span><span class="s2">&quot;none&quot;</span><span class="p">))</span>  <span class="c1"># tensor([[0.2727], [0.6000]])</span>

<span class="c1"># reset</span>
<span class="n">metric</span><span class="o">.</span><span class="n">reset</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

</section>
<section id="module-monai.metrics.utils">
<span id="utilities"></span><h2>Utilities<a class="headerlink" href="#module-monai.metrics.utils" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.do_metric_reduction">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">do_metric_reduction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reduction</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">mean</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L71-L130"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.do_metric_reduction" title="Link to this definition">#</a></dt>
<dd><p>This function is to do the metric reduction for calculated <cite>not-nan</cite> metrics of each sample’s each class.
The function also returns <cite>not_nans</cite>, which counts the number of not nans for the metric.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>f</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – a tensor that contains the calculated metric scores per batch and
per class. The first two dims should be batch and class.</p></li>
<li><p><strong>reduction</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.MetricReduction" title="monai.utils.enums.MetricReduction"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetricReduction</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – define the mode to reduce metrics, will only apply reduction on <cite>not-nan</cite> values,
available reduction modes: {<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;mean_batch&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_batch&quot;</span></code>,
<code class="docutils literal notranslate"><span class="pre">&quot;mean_channel&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;sum_channel&quot;</span></code>}, default to <code class="docutils literal notranslate"><span class="pre">&quot;mean&quot;</span></code>.
if “none”, return the input f tensor and not_nans.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – When <code class="docutils literal notranslate"><span class="pre">reduction</span></code> is not one of
    [“mean”, “sum”, “mean_batch”, “sum_batch”, “mean_channel”, “sum_channel” “none”].</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.get_code_to_measure_table">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">get_code_to_measure_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L813-L825"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.get_code_to_measure_table" title="Link to this definition">#</a></dt>
<dd><p>returns a table mapping neighbourhood code to the surface area or contour length.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spacing</strong> – a sequence of 2 or 3 numbers, indicating the spacing in the spatial dimensions.</p></li>
<li><p><strong>device</strong> – device to put the table on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.get_mask_edges">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">get_mask_edges</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">label_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">crop</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">always_return_as_numpy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/utils/deprecate_utils.py#L133-L239"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.get_mask_edges" title="Link to this definition">#</a></dt>
<dd><p>Compute edges from binary segmentation masks. This
function is helpful to further calculate metrics such as Average Surface
Distance and Hausdorff Distance.
The input images can be binary or labelfield images. If labelfield images
are supplied, they are converted to binary images using <cite>label_idx</cite>.</p>
<p>In order to improve the computing efficiency, before getting the edges,
the images can be cropped and only keep the foreground if not specifies
<code class="docutils literal notranslate"><span class="pre">crop</span> <span class="pre">=</span> <span class="pre">False</span></code>.</p>
<p>We require that images are the same size, and assume that they occupy the
same space (spacing, orientation, etc.).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seg_pred</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – the predicted binary or labelfield image.</p></li>
<li><p><strong>seg_gt</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – the actual binary or labelfield image.</p></li>
<li><p><strong>label_idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – for labelfield images, convert to binary with
<cite>seg_pred = seg_pred == label_idx</cite>.</p></li>
<li><p><strong>crop</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – crop input images and only keep the foregrounds. In order to
maintain two inputs’ shapes, here the bounding box is achieved
by <code class="docutils literal notranslate"><span class="pre">(seg_pred</span> <span class="pre">|</span> <span class="pre">seg_gt)</span></code> which represents the union set of two
images. Defaults to <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p></li>
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the input spacing. If not None, the subvoxel edges and areas will be computed.
otherwise <cite>scipy</cite>’s binary erosion is used to calculate the edges.</p></li>
<li><p><strong>always_return_as_numpy</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to a numpy array regardless of the input type.
If False, return the same type as inputs.
The default value is changed from <cite>True</cite> to <cite>False</cite> in v1.5.0.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[~NdarrayTensor, ~NdarrayTensor]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.get_surface_distance">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">get_surface_distance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">seg_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg_gt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distance_metric</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'euclidean'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spacing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L242-L285"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.get_surface_distance" title="Link to this definition">#</a></dt>
<dd><p>This function is used to compute the surface distances from <cite>seg_pred</cite> to <cite>seg_gt</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>seg_pred</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – the edge of the predictions.</p></li>
<li><p><strong>seg_gt</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – the edge of the ground truth.</p></li>
<li><p><strong>distance_metric</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – <p>: [<code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>]
the metric used to compute surface distance. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>, uses Exact Euclidean distance transform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;chessboard&quot;</span></code>, uses <cite>chessboard</cite> metric in chamfer type of transform.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;taxicab&quot;</span></code>, uses <cite>taxicab</cite> metric in chamfer type of transform.</p></li>
</ul>
</p></li>
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – spacing of pixel (or voxel). This parameter is relevant only if <code class="docutils literal notranslate"><span class="pre">distance_metric</span></code> is set to <code class="docutils literal notranslate"><span class="pre">&quot;euclidean&quot;</span></code>.
Several input options are allowed:
(1) If a single number, isotropic spacing with that value is used.
(2) If a sequence of numbers, the length of the sequence must be equal to the image dimensions.
(3) If <code class="docutils literal notranslate"><span class="pre">None</span></code>, spacing of unity is used. Defaults to <code class="docutils literal notranslate"><span class="pre">None</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If seg_pred or seg_gt is all 0, may result in nan/inf distance.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.ignore_background">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">ignore_background</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">y_pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">y</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L54-L68"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.ignore_background" title="Link to this definition">#</a></dt>
<dd><p>This function is used to remove background (the first channel) for <cite>y_pred</cite> and <cite>y</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>y_pred</strong> (<em>~NdarrayTensor</em>) – predictions. As for classification tasks,
<cite>y_pred</cite> should has the shape [BN] where N is larger than 1. As for segmentation tasks,
the shape should be [BNHW] or [BNHWD].</p></li>
<li><p><strong>y</strong> (<em>~NdarrayTensor</em>) – ground truth, the first dim is batch.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[~NdarrayTensor, ~NdarrayTensor]</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.is_binary_tensor">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">is_binary_tensor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L347-L363"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.is_binary_tensor" title="Link to this definition">#</a></dt>
<dd><p>Determines whether the input tensor is torch binary tensor or not.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input</strong> (<em>torch.Tensor</em>) – tensor to validate.</p></li>
<li><p><strong>name</strong> (<em>str</em>) – name of the tensor being checked.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>ValueError</strong> – if <cite>input</cite> is not a PyTorch Tensor.</p>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>A warning message is printed, if the tensor is not binary.</p>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.prepare_spacing">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">prepare_spacing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spacing</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">img_dim</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L400-L462"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.prepare_spacing" title="Link to this definition">#</a></dt>
<dd><p>This function is used to prepare the <cite>spacing</cite> parameter to include batch dimension for the computation of
surface distance, hausdorff distance or surface dice.</p>
<p>An example with batch_size = 4 and img_dim = 3:
input spacing = None -&gt; output spacing = [None, None, None, None]
input spacing = 0.8 -&gt; output spacing = [0.8, 0.8, 0.8, 0.8]
input spacing = [0.8, 0.5, 0.9] -&gt; output spacing = [[0.8, 0.5, 0.9], [0.8, 0.5, 0.9], [0.8, 0.5, 0.9], [0.8, 0.5, 0.9]]
input spacing = [0.8, 0.7, 1.2, 0.8] -&gt; output spacing = [0.8, 0.7, 1.2, 0.8] (same as input)</p>
<p>An example with batch_size = 3 and img_dim = 3:
input spacing = [0.8, 0.5, 0.9] -&gt;
output spacing = [[0.8, 0.5, 0.9], [0.8, 0.5, 0.9], [0.8, 0.5, 0.9], [0.8, 0.5, 0.9]]</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spacing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ndarray</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]]]], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – can be a float, a sequence of length <cite>img_dim</cite>, or a sequence with length <cite>batch_size</cite></p></li>
<li><p><strong>img_dim.</strong> (<em>that includes floats</em><em> or </em><em>sequences</em><em> of </em><em>length</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><strong>ValueError</strong> – when <cite>spacing</cite> is a sequence of sequence, where the outer sequence length does not</p></li>
<li><p><strong>equal batch_size</strong><strong> or </strong><strong>inner sequence length does not equal img_dim.</strong> – </p></li>
</ul>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a sequence with length <cite>batch_size</cite> that includes integers, floats or sequences of length <cite>img_dim</cite>.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>spacing</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="monai.metrics.utils.remap_instance_id">
<span class="sig-prename descclassname"><span class="pre">monai.metrics.utils.</span></span><span class="sig-name descname"><span class="pre">remap_instance_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pred</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">by_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/metrics/utils.py#L366-L397"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.metrics.utils.remap_instance_id" title="Link to this definition">#</a></dt>
<dd><p>This function is used to rename all instance id of <cite>pred</cite>, so that the id is
contiguous.
For example: all ids of the input can be [0, 1, 2] rather than [0, 2, 5].
This function is helpful for calculating metrics like Panoptic Quality (PQ).
The implementation refers to:</p>
<p><a class="github reference external" href="https://github.com/vqdang/hover_net">vqdang/hover_net</a></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>pred</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – segmentation predictions in the form of torch tensor. Each
value of the tensor should be an integer, and represents the prediction of its corresponding instance id.</p></li>
<li><p><strong>by_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if True, largest instance will be assigned a smaller id.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="networks.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Network architectures</p>
      </div>
    </a>
    <a class="right-next"
       href="optimizers.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Optimizers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#froc"><cite>FROC</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_fp_tp_probs"><code class="docutils literal notranslate"><span class="pre">compute_fp_tp_probs()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_froc_curve_data"><code class="docutils literal notranslate"><span class="pre">compute_froc_curve_data()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_froc_score"><code class="docutils literal notranslate"><span class="pre">compute_froc_score()</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metric"><cite>Metric</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Metric"><code class="docutils literal notranslate"><span class="pre">Metric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variance"><cite>Variance</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_variance"><code class="docutils literal notranslate"><span class="pre">compute_variance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.VarianceMetric"><code class="docutils literal notranslate"><span class="pre">VarianceMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#labelqualityscore"><cite>LabelQualityScore</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.label_quality_score"><code class="docutils literal notranslate"><span class="pre">label_quality_score()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.LabelQualityScore"><code class="docutils literal notranslate"><span class="pre">LabelQualityScore</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#iterationmetric"><cite>IterationMetric</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.IterationMetric"><code class="docutils literal notranslate"><span class="pre">IterationMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative"><cite>Cumulative</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative"><code class="docutils literal notranslate"><span class="pre">Cumulative</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.__init__"><code class="docutils literal notranslate"><span class="pre">Cumulative.__init__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.aggregate"><code class="docutils literal notranslate"><span class="pre">Cumulative.aggregate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.append"><code class="docutils literal notranslate"><span class="pre">Cumulative.append()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.extend"><code class="docutils literal notranslate"><span class="pre">Cumulative.extend()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.get_buffer"><code class="docutils literal notranslate"><span class="pre">Cumulative.get_buffer()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.Cumulative.reset"><code class="docutils literal notranslate"><span class="pre">Cumulative.reset()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulativeiterationmetric"><cite>CumulativeIterationMetric</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeIterationMetric"><code class="docutils literal notranslate"><span class="pre">CumulativeIterationMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#lossmetric"><cite>LossMetric</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.LossMetric"><code class="docutils literal notranslate"><span class="pre">LossMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.LossMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">LossMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-dice"><cite>Mean Dice</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.DiceMetric"><code class="docutils literal notranslate"><span class="pre">DiceMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.DiceMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">DiceMetric.aggregate()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.DiceHelper"><code class="docutils literal notranslate"><span class="pre">DiceHelper</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.DiceHelper.compute_channel"><code class="docutils literal notranslate"><span class="pre">DiceHelper.compute_channel()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-iou"><cite>Mean IoU</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_iou"><code class="docutils literal notranslate"><span class="pre">compute_iou()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MeanIoU"><code class="docutils literal notranslate"><span class="pre">MeanIoU</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MeanIoU.aggregate"><code class="docutils literal notranslate"><span class="pre">MeanIoU.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#generalized-dice-score"><cite>Generalized Dice Score</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_generalized_dice"><code class="docutils literal notranslate"><span class="pre">compute_generalized_dice()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.GeneralizedDiceScore"><code class="docutils literal notranslate"><span class="pre">GeneralizedDiceScore</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.GeneralizedDiceScore.aggregate"><code class="docutils literal notranslate"><span class="pre">GeneralizedDiceScore.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#area-under-the-roc-curve"><cite>Area under the ROC curve</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_roc_auc"><code class="docutils literal notranslate"><span class="pre">compute_roc_auc()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.ROCAUCMetric"><code class="docutils literal notranslate"><span class="pre">ROCAUCMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.ROCAUCMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">ROCAUCMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#average-precision"><cite>Average Precision</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_average_precision"><code class="docutils literal notranslate"><span class="pre">compute_average_precision()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.AveragePrecisionMetric"><code class="docutils literal notranslate"><span class="pre">AveragePrecisionMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.AveragePrecisionMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">AveragePrecisionMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#confusion-matrix"><cite>Confusion matrix</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.get_confusion_matrix"><code class="docutils literal notranslate"><span class="pre">get_confusion_matrix()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_confusion_matrix_metric"><code class="docutils literal notranslate"><span class="pre">compute_confusion_matrix_metric()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.ConfusionMatrixMetric"><code class="docutils literal notranslate"><span class="pre">ConfusionMatrixMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.ConfusionMatrixMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">ConfusionMatrixMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#hausdorff-distance"><cite>Hausdorff distance</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_hausdorff_distance"><code class="docutils literal notranslate"><span class="pre">compute_hausdorff_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.HausdorffDistanceMetric"><code class="docutils literal notranslate"><span class="pre">HausdorffDistanceMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.HausdorffDistanceMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">HausdorffDistanceMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#average-surface-distance"><cite>Average surface distance</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_average_surface_distance"><code class="docutils literal notranslate"><span class="pre">compute_average_surface_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.SurfaceDistanceMetric"><code class="docutils literal notranslate"><span class="pre">SurfaceDistanceMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.SurfaceDistanceMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">SurfaceDistanceMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#surface-dice"><cite>Surface dice</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_surface_dice"><code class="docutils literal notranslate"><span class="pre">compute_surface_dice()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.SurfaceDiceMetric"><code class="docutils literal notranslate"><span class="pre">SurfaceDiceMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.SurfaceDiceMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">SurfaceDiceMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#panopticqualitymetric"><cite>PanopticQualityMetric</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_panoptic_quality"><code class="docutils literal notranslate"><span class="pre">compute_panoptic_quality()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.PanopticQualityMetric"><code class="docutils literal notranslate"><span class="pre">PanopticQualityMetric</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.PanopticQualityMetric.aggregate"><code class="docutils literal notranslate"><span class="pre">PanopticQualityMetric.aggregate()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-squared-error"><cite>Mean squared error</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MSEMetric"><code class="docutils literal notranslate"><span class="pre">MSEMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mean-absolute-error"><cite>Mean absolute error</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MAEMetric"><code class="docutils literal notranslate"><span class="pre">MAEMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#root-mean-squared-error"><cite>Root mean squared error</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.RMSEMetric"><code class="docutils literal notranslate"><span class="pre">RMSEMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#peak-signal-to-noise-ratio"><cite>Peak signal to noise ratio</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.PSNRMetric"><code class="docutils literal notranslate"><span class="pre">PSNRMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#structural-similarity-index-measure"><cite>Structural similarity index measure</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.regression.SSIMMetric"><code class="docutils literal notranslate"><span class="pre">SSIMMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#multi-scale-structural-similarity-index-measure"><cite>Multi-scale structural similarity index measure</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MultiScaleSSIMMetric"><code class="docutils literal notranslate"><span class="pre">MultiScaleSSIMMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#frechet-inception-distance"><cite>Fréchet Inception Distance</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_frechet_distance"><code class="docutils literal notranslate"><span class="pre">compute_frechet_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.FIDMetric"><code class="docutils literal notranslate"><span class="pre">FIDMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#maximum-mean-discrepancy"><cite>Maximum Mean Discrepancy</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.compute_mmd"><code class="docutils literal notranslate"><span class="pre">compute_mmd()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MMDMetric"><code class="docutils literal notranslate"><span class="pre">MMDMetric</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cumulative-average"><cite>Cumulative average</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeAverage"><code class="docutils literal notranslate"><span class="pre">CumulativeAverage</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeAverage.aggregate"><code class="docutils literal notranslate"><span class="pre">CumulativeAverage.aggregate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeAverage.append"><code class="docutils literal notranslate"><span class="pre">CumulativeAverage.append()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeAverage.get_current"><code class="docutils literal notranslate"><span class="pre">CumulativeAverage.get_current()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.CumulativeAverage.reset"><code class="docutils literal notranslate"><span class="pre">CumulativeAverage.reset()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metrics-reloaded-binary"><cite>Metrics reloaded binary</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MetricsReloadedBinary"><code class="docutils literal notranslate"><span class="pre">MetricsReloadedBinary</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#metrics-reloaded-categorical"><cite>Metrics reloaded categorical</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.MetricsReloadedCategorical"><code class="docutils literal notranslate"><span class="pre">MetricsReloadedCategorical</span></code></a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#module-monai.metrics.utils">Utilities</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.do_metric_reduction"><code class="docutils literal notranslate"><span class="pre">do_metric_reduction()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.get_code_to_measure_table"><code class="docutils literal notranslate"><span class="pre">get_code_to_measure_table()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.get_mask_edges"><code class="docutils literal notranslate"><span class="pre">get_mask_edges()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.get_surface_distance"><code class="docutils literal notranslate"><span class="pre">get_surface_distance()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.ignore_background"><code class="docutils literal notranslate"><span class="pre">ignore_background()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.is_binary_tensor"><code class="docutils literal notranslate"><span class="pre">is_binary_tensor()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.prepare_spacing"><code class="docutils literal notranslate"><span class="pre">prepare_spacing()</span></code></a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.metrics.utils.remap_instance_id"><code class="docutils literal notranslate"><span class="pre">remap_instance_id()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/metrics.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright MONAI Consortium.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>