
<!DOCTYPE html>


<html lang="en" data-content_root="./" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Inference methods &#8212; MONAI 1.5.1 Documentation</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  <!--
    this give us a css class that will be invisible only if js is disabled
  -->
  <noscript>
    <style>
      .pst-js-only { display: none !important; }

    </style>
  </noscript>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="_static/styles/theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />
<link href="_static/styles/pydata-sphinx-theme.css?digest=8878045cc6db502f8baf" rel="stylesheet" />

    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/custom.css?v=26ac546f" />
  
  <!-- So that users can add custom icons -->
  <script src="_static/scripts/fontawesome.js?digest=8878045cc6db502f8baf"></script>
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf" />
<link rel="preload" as="script" href="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf" />

    <script src="_static/documentation_options.js?v=cb7e6255"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'inferers';</script>
    <link rel="icon" href="_static/favicon.ico"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Event handlers" href="handlers.html" />
    <link rel="prev" title="Engines" href="engines.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  <meta name="docsearch:version" content="1.5.1" />
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <dialog id="pst-search-dialog">
    
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form>
  </dialog>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
<div class="bd-header__inner bd-page-width">
  <button class="pst-navbar-icon sidebar-toggle primary-toggle" aria-label="Site navigation">
    <span class="fa-solid fa-bars"></span>
  </button>
  
  
  <div class="col-lg-3 navbar-header-items__start">
    
      <div class="navbar-item">

  
    
  

<a class="navbar-brand logo" href="index.html">
  
  
  
  
  
    
    
      
    
    
    <img src="_static/MONAI-logo-color.png" class="logo__image only-light" alt="MONAI 1.5.1 Documentation - Home"/>
    <img src="_static/MONAI-logo-color.png" class="logo__image only-dark pst-js-only" alt="MONAI 1.5.1 Documentation - Home"/>
  
  
</a></div>
    
  </div>
  
  <div class="col-lg-9 navbar-header-items">
    
    <div class="me-auto navbar-header-items__center">
      
        <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="whatsnew.html">
    What’s New
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="highlights.html">
    Highlights
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="precision_accelerating.html">
    Precision and Accelerating
  </a>
</li>

            <li class="nav-item dropdown">
                <button class="btn dropdown-toggle nav-item" type="button"
                data-bs-toggle="dropdown" aria-expanded="false"
                aria-controls="pst-nav-more-links">
                    More
                </button>
                <ul id="pst-nav-more-links" class="dropdown-menu">
                    
<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="contrib.html">
    Development
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="bundle_intro.html">
    Bundle
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-internal" href="lazy_resampling.html">
    Lazy Resampling
  </a>
</li>


<li class=" ">
  <a class="nav-link dropdown-item nav-external" href="https://github.com/Project-MONAI/tutorials">
    Tutorials
  </a>
</li>

                </ul>
            </li>
            
  </ul>
</nav></div>
      
    </div>
    
    
    <div class="navbar-header-items__end">
      
        <div class="navbar-item navbar-persistent--container">
          

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
        </div>
      
      
        <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
      
        <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/project-monai/monai" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/projectmonai" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-twitter-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
      
    </div>
    
  </div>
  
  
    <div class="navbar-persistent--mobile">

<button class="btn search-button-field search-button__button pst-js-only" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
 <i class="fa-solid fa-magnifying-glass"></i>
 <span class="search-button__default-text">Search</span>
 <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
</button>
    </div>
  

  
    <button class="pst-navbar-icon sidebar-toggle secondary-toggle" aria-label="On this page">
      <span class="fa-solid fa-outdent"></span>
    </button>
  
</div>

    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
      <dialog id="pst-primary-sidebar-modal"></dialog>
      <div id="pst-primary-sidebar" class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
      <div class="sidebar-header-items__center">
        
          
          
            <div class="navbar-item">
<nav>
  <ul class="bd-navbar-elements navbar-nav">
    
<li class="nav-item ">
  <a class="nav-link nav-internal" href="whatsnew.html">
    What’s New
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="highlights.html">
    Highlights
  </a>
</li>


<li class="nav-item current active">
  <a class="nav-link nav-internal" href="api.html">
    API Reference
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="installation.html">
    Installation Guide
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="precision_accelerating.html">
    Precision and Accelerating
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="contrib.html">
    Development
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="bundle_intro.html">
    Bundle
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-internal" href="lazy_resampling.html">
    Lazy Resampling
  </a>
</li>


<li class="nav-item ">
  <a class="nav-link nav-external" href="https://github.com/Project-MONAI/tutorials">
    Tutorials
  </a>
</li>

  </ul>
</nav></div>
          
        
      </div>
    
    
    
      <div class="sidebar-header-items__end">
        
          <div class="navbar-item">

<button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button pst-js-only" aria-label="Color mode" data-bs-title="Color mode"  data-bs-placement="bottom" data-bs-toggle="tooltip">
  <i class="theme-switch fa-solid fa-sun                fa-lg" data-mode="light" title="Light"></i>
  <i class="theme-switch fa-solid fa-moon               fa-lg" data-mode="dark"  title="Dark"></i>
  <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"  title="System Settings"></i>
</button></div>
        
          <div class="navbar-item"><ul class="navbar-icon-links"
    aria-label="Icon Links">
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://github.com/project-monai/monai" title="GitHub" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-github-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">GitHub</span></a>
        </li>
        <li class="nav-item">
          
          
          
          
          
          
          
          
          <a href="https://twitter.com/projectmonai" title="Twitter" class="nav-link pst-navbar-icon" rel="noopener" target="_blank" data-bs-toggle="tooltip" data-bs-placement="bottom"><i class="fab fa-twitter-square fa-lg" aria-hidden="true"></i>
            <span class="sr-only">Twitter</span></a>
        </li>
</ul></div>
        
      </div>
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">
<form class="bd-search d-flex align-items-center"
      action="search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         placeholder="Search the docs ..."
         aria-label="Search the docs ..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
        <div class="sidebar-primary-item">
<nav class="bd-docs-nav bd-links"
     aria-label="Section Navigation">
  <p class="bd-links__title" role="heading" aria-level="1">Section Navigation</p>
  <div class="bd-toc-item navbar-nav"><ul class="current nav bd-sidenav">
<li class="toctree-l1"><a class="reference internal" href="apps.html">Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="auto3dseg.html">Auto3dseg</a></li>
<li class="toctree-l1"><a class="reference internal" href="fl.html">Federated Learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="bundle.html">Model Bundle</a></li>
<li class="toctree-l1"><a class="reference internal" href="transforms.html">Transforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="losses.html">Loss functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="networks.html">Network architectures</a></li>
<li class="toctree-l1"><a class="reference internal" href="metrics.html">Metrics</a></li>
<li class="toctree-l1"><a class="reference internal" href="optimizers.html">Optimizers</a></li>
<li class="toctree-l1"><a class="reference internal" href="data.html">Data</a></li>
<li class="toctree-l1"><a class="reference internal" href="engines.html">Engines</a></li>
<li class="toctree-l1 current active"><a class="current reference internal" href="#">Inference methods</a></li>
<li class="toctree-l1"><a class="reference internal" href="handlers.html">Event handlers</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualize.html">Visualizations</a></li>
<li class="toctree-l1"><a class="reference internal" href="utils.html">Utilities</a></li>
</ul>
</div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
      <div class="sidebar-primary-item">
<div id="ethical-ad-placement"
      class="flat"
      data-ea-publisher="readthedocs"
      data-ea-type="readthedocs-sidebar"
      data-ea-manual="true">
</div></div>
  </div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        
          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item">

<nav aria-label="Breadcrumb" class="d-print-none">
  <ul class="bd-breadcrumbs">
    
    <li class="breadcrumb-item breadcrumb-home">
      <a href="index.html" class="nav-link" aria-label="Home">
        <i class="fa-solid fa-home"></i>
      </a>
    </li>
    
    <li class="breadcrumb-item"><a href="api.html" class="nav-link">API Reference</a></li>
    
    <li class="breadcrumb-item active" aria-current="page"><span class="ellipsis">Inference methods</span></li>
  </ul>
</nav>
</div>
      
    </div>
  
  
</div>
</div>
              
              
              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section id="inference-methods">
<span id="inferers"></span><h1>Inference methods<a class="headerlink" href="#inference-methods" title="Link to this heading">#</a></h1>
<section id="id1">
<h2>Inferers<a class="headerlink" href="#id1" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.Inferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">Inferer</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L62-L97"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Inferer" title="Link to this definition">#</a></dt>
<dd><p>A base class for model inference.
Extend this class to support operations during inference, e.g. a sliding window method.</p>
<p>Example code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">device</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">device</span><span class="p">(</span><span class="s2">&quot;cuda:0&quot;</span><span class="p">)</span>
<span class="n">transform</span> <span class="o">=</span> <span class="n">Compose</span><span class="p">([</span><span class="n">ToTensor</span><span class="p">(),</span> <span class="n">LoadImage</span><span class="p">(</span><span class="n">image_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)])</span>
<span class="n">data</span> <span class="o">=</span> <span class="n">transform</span><span class="p">(</span><span class="n">img_path</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">UNet</span><span class="p">(</span><span class="o">...</span><span class="p">)</span><span class="o">.</span><span class="n">to</span><span class="p">(</span><span class="n">device</span><span class="p">)</span>
<span class="n">inferer</span> <span class="o">=</span> <span class="n">SlidingWindowInferer</span><span class="p">(</span><span class="o">...</span><span class="p">)</span>

<span class="n">model</span><span class="o">.</span><span class="n">eval</span><span class="p">()</span>
<span class="k">with</span> <span class="n">torch</span><span class="o">.</span><span class="n">no_grad</span><span class="p">():</span>
    <span class="n">pred</span> <span class="o">=</span> <span class="n">inferer</span><span class="p">(</span><span class="n">inputs</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">network</span><span class="o">=</span><span class="n">model</span><span class="p">)</span>
<span class="o">...</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Inferer.__call__">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L82-L97"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Inferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Run inference on <cite>inputs</cite> with the <cite>network</cite> model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input of the model inference.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>) – model for inference.</p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="patchinferer">
<h3><cite>PatchInferer</cite><a class="headerlink" href="#patchinferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.PatchInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">PatchInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">splitter=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">merger_cls=&lt;class</span> <span class="pre">'monai.inferers.merger.AvgMerger'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">preprocessing=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">postprocessing=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output_keys=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">match_spatial_shape=True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_size=0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**merger_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L100-L417"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.PatchInferer" title="Link to this definition">#</a></dt>
<dd><p>Inference on patches instead of the whole image based on Splitter and Merger.
This splits the input image into patches and then merge the resulted patches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>splitter</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="#monai.inferers.Splitter" title="monai.inferers.splitter.Splitter"><code class="xref py py-class docutils literal notranslate"><span class="pre">Splitter</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a <cite>Splitter</cite> object that split the inputs into patches. Defaults to None.
If not provided or None, the inputs are considered to be already split into patches.
In this case, the output <cite>merged_shape</cite> and the optional <cite>cropped_shape</cite> cannot be inferred
and should be explicitly provided.</p></li>
<li><p><strong>merger_cls</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code>[<a class="reference internal" href="#monai.inferers.Merger" title="monai.inferers.merger.Merger"><code class="xref py py-class docutils literal notranslate"><span class="pre">Merger</span></code></a>], <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – a <cite>Merger</cite> subclass that can be instantiated to merges patch outputs.
It can also be a string that matches the name of a class inherited from <cite>Merger</cite> class.
Defaults to <cite>AvgMerger</cite>.</p></li>
<li><p><strong>batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – batch size for patches. If the input tensor is already batched [BxCxWxH],
this adds additional batching [(Bp*B)xCxWpxHp] for inference on patches.
Defaults to 1.</p></li>
<li><p><strong>preprocessing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a callable that process patches before the being fed to the network.
Defaults to None.</p></li>
<li><p><strong>postprocessing</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a callable that process the output of the network.
Defaults to None.</p></li>
<li><p><strong>output_keys</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if the network output is a dictionary, this defines the keys of
the output dictionary to be used for merging.
Defaults to None, where all the keys are used.</p></li>
<li><p><strong>match_spatial_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to crop the output to match the input shape. Defaults to True.</p></li>
<li><p><strong>buffer_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – number of patches to be held in the buffer with a separate thread for batch sampling. Defaults to 0.</p></li>
<li><p><strong>merger_kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – arguments to be passed to <cite>merger_cls</cite> for instantiation.
<cite>merged_shape</cite> is calculated automatically based on the input shape and
the output patch shape unless it is passed here.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.PatchInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L309-L417"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.PatchInferer.__call__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input data for inference, a torch.Tensor, representing an image or batch of images.
However if the data is already split, it can be fed by providing a list of tuple (patch, location),
or a MetaTensor that has metadata for <cite>PatchKeys.LOCATION</cite>. In both cases no splitter should be provided.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]) – target model to execute inference.
supports callables such as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">my_torch_model(x,</span> <span class="pre">additional_config)</span></code></p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>condition</strong> (<em>torch.Tensor</em><em>, </em><em>optional</em>) – If provided via <cite>**kwargs</cite>,
this tensor must match the shape of <cite>inputs</cite> and will be sliced, patched, or windowed alongside the inputs.
The resulting segments will be passed to the model together with the corresponding input segments.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="simpleinferer">
<h3><cite>SimpleInferer</cite><a class="headerlink" href="#simpleinferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SimpleInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SimpleInferer</span></span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L420-L443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SimpleInferer" title="Link to this definition">#</a></dt>
<dd><p>SimpleInferer is the normal inference method that run model forward() directly.
Usage example can be found in the <a class="reference internal" href="#monai.inferers.Inferer" title="monai.inferers.Inferer"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.inferers.Inferer</span></code></a> base class.</p>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SimpleInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L430-L443"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SimpleInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Unified callable function API of Inferers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – model input data for inference.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]) – target model to execute inference.
supports callables such as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">my_torch_model(x,</span> <span class="pre">additional_config)</span></code></p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="slidingwindowinferer">
<h3><cite>SlidingWindowInferer</cite><a class="headerlink" href="#slidingwindowinferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SlidingWindowInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_roi_weight_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L446-L605"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowInferer" title="Link to this definition">#</a></dt>
<dd><p>Sliding window method for model inference,
with <cite>sw_batch_size</cite> windows for every model.forward().
Usage example can be found in the <a class="reference internal" href="#monai.inferers.Inferer" title="monai.inferers.Inferer"><code class="xref py py-class docutils literal notranslate"><span class="pre">monai.inferers.Inferer</span></code></a> base class.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>roi_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the window size to execute SlidingWindow evaluation.
If it has non-positive components, the corresponding <cite>inputs</cite> size will be used.
if the components of the <cite>roi_size</cite> are non-positive values, the transform will use the
corresponding components of img size. For example, <cite>roi_size=(32, -1)</cite> will be adapted
to <cite>(32, 64)</cite> if the second spatial dimension size of img is <cite>64</cite>.</p></li>
<li><p><strong>sw_batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the batch size to run window slices.</p></li>
<li><p><strong>overlap</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – Amount of overlap between scans along each spatial dimension, defaults to <code class="docutils literal notranslate"><span class="pre">0.25</span></code>.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.BlendMode" title="monai.utils.enums.BlendMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlendMode</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;gaussian&quot;</span></code>}
How to blend output of overlapping windows. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;constant</span></code>”: gives equal weight to all predictions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;gaussian</span></code>”: gives less weight to predictions on edges of windows.</p></li>
</ul>
</p></li>
<li><p><strong>sigma_scale</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – the standard deviation coefficient of the Gaussian window when <cite>mode</cite> is <code class="docutils literal notranslate"><span class="pre">&quot;gaussian&quot;</span></code>.
Default: 0.125. Actual window sigma is <code class="docutils literal notranslate"><span class="pre">sigma_scale</span></code> * <code class="docutils literal notranslate"><span class="pre">dim_size</span></code>.
When sigma_scale is a sequence of floats, the values denote sigma_scale at the corresponding
spatial dimensions.</p></li>
<li><p><strong>padding_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.PytorchPadMode" title="monai.utils.enums.PytorchPadMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">PytorchPadMode</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – {<code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;reflect&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;replicate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;circular&quot;</span></code>}
Padding mode when <code class="docutils literal notranslate"><span class="pre">roi_size</span></code> is larger than inputs. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>
See also: <a class="reference external" href="https://pytorch.org/docs/stable/generated/torch.nn.functional.pad.html">https://pytorch.org/docs/stable/generated/torch.nn.functional.pad.html</a></p></li>
<li><p><strong>cval</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – fill value for ‘constant’ padding mode. Default: 0</p></li>
<li><p><strong>sw_device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device for the window data.
By default the device (and accordingly the memory) of the <cite>inputs</cite> is used.
Normally <cite>sw_device</cite> should be consistent with the device where <cite>predictor</cite> is defined.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device for the stitched output prediction.
By default the device (and accordingly the memory) of the <cite>inputs</cite> is used. If for example
set to device=torch.device(‘cpu’) the gpu memory consumption is less and independent of the
<cite>inputs</cite> and <cite>roi_size</cite>. Output is on the <cite>device</cite>.</p></li>
<li><p><strong>progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to print a tqdm progress bar.</p></li>
<li><p><strong>cache_roi_weight_map</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to precompute the ROI weight map.</p></li>
<li><p><strong>cpu_thresh</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – when provided, dynamically switch to stitching on cpu (to save gpu memory)
when input image volume is larger than this threshold (in pixels/voxels).
Otherwise use <code class="docutils literal notranslate"><span class="pre">&quot;device&quot;</span></code>. Thus, the output may end-up on either cpu or gpu.</p></li>
<li><p><strong>buffer_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the number of sliding window iterations along the <code class="docutils literal notranslate"><span class="pre">buffer_dim</span></code>
to be buffered on <code class="docutils literal notranslate"><span class="pre">sw_device</span></code> before writing to <code class="docutils literal notranslate"><span class="pre">device</span></code>.
(Typically, <code class="docutils literal notranslate"><span class="pre">sw_device</span></code> is <code class="docutils literal notranslate"><span class="pre">cuda</span></code> and <code class="docutils literal notranslate"><span class="pre">device</span></code> is <code class="docutils literal notranslate"><span class="pre">cpu</span></code>.)
default is None, no buffering. For the buffer dim, when spatial size is divisible by buffer_steps*roi_size,
(i.e. no overlapping among the buffers) non_blocking copy may be automatically enabled for efficiency.</p></li>
<li><p><strong>buffer_dim</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the spatial dimension along which the buffers are created.
0 indicates the first spatial dimension. Default is -1, the last spatial dimension.</p></li>
<li><p><strong>with_coord</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to pass the window coordinates to <code class="docutils literal notranslate"><span class="pre">network</span></code>. Defaults to False.
If True, the <code class="docutils literal notranslate"><span class="pre">network</span></code>’s 2nd input argument should accept the window coordinates.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">sw_batch_size</span></code> denotes the max number of windows per network inference iteration,
not the batch size of inputs.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L554-L605"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowInferer.__call__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – model input data for inference.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]) – target model to execute inference.
supports callables such as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">my_torch_model(x,</span> <span class="pre">additional_config)</span></code></p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>condition</strong> (<em>torch.Tensor</em><em>, </em><em>optional</em>) – If provided via <cite>**kwargs</cite>,
this tensor must match the shape of <cite>inputs</cite> and will be sliced, patched, or windowed alongside the inputs.
The resulting segments will be passed to the model together with the corresponding input segments.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, …], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="slidingwindowinfereradapt">
<h3><cite>SlidingWindowInfererAdapt</cite><a class="headerlink" href="#slidingwindowinfereradapt" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowInfererAdapt">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SlidingWindowInfererAdapt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">roi_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_batch_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_roi_weight_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cpu_thresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L608-L694"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowInfererAdapt" title="Link to this definition">#</a></dt>
<dd><p>SlidingWindowInfererAdapt extends SlidingWindowInferer to automatically switch to buffered and then to CPU stitching,
when OOM on GPU. It also records a size of such large images to automatically
try CPU stitching for the next large image of a similar size.  If the stitching ‘device’ input parameter is provided,
automatic adaptation won’t be attempted, please keep the default option device = None for adaptive behavior.
Note: the output might be on CPU (even if the input was on GPU), if the GPU memory was not sufficient.</p>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowInfererAdapt.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L618-L694"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowInfererAdapt.__call__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – model input data for inference.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]) – target model to execute inference.
supports callables such as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">my_torch_model(x,</span> <span class="pre">additional_config)</span></code></p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, …], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="saliencyinferer">
<h3><cite>SaliencyInferer</cite><a class="headerlink" href="#saliencyinferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SaliencyInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SaliencyInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cam_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">target_layers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">class_idx</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L697-L741"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SaliencyInferer" title="Link to this definition">#</a></dt>
<dd><p>SaliencyInferer is inference with activation maps.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>cam_name</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – expected CAM method name, should be: “CAM”, “GradCAM” or “GradCAMpp”.</p></li>
<li><p><strong>target_layers</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – name of the model layer to generate the feature map.</p></li>
<li><p><strong>class_idx</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – index of the class to be visualized. if None, default to argmax(logits).</p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional args to be passed to the <cite>__init__</cite> of cam.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional keyword args to be passed to <cite>__init__</cite> of cam.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SaliencyInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L722-L741"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SaliencyInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Unified callable function API of Inferers.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – model input data for inference.</p></li>
<li><p><strong>network</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Module</span></code>) – target model to execute inference.
supports callables such as <code class="docutils literal notranslate"><span class="pre">lambda</span> <span class="pre">x:</span> <span class="pre">my_torch_model(x,</span> <span class="pre">additional_config)</span></code></p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional args to be passed to the <cite>__call__</cite> of cam.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional keyword args to be passed to <cite>__call__</cite> of cam.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="sliceinferer">
<h3><cite>SliceInferer</cite><a class="headerlink" href="#sliceinferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SliceInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SliceInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">spatial_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L744-L847"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SliceInferer" title="Link to this definition">#</a></dt>
<dd><p>SliceInferer extends SlidingWindowInferer to provide slice-by-slice (2D) inference when provided a 3D volume.
A typical use case could be a 2D model (like 2D segmentation UNet) operates on the slices from a 3D volume,
and the output is a 3D volume with 2D slices aggregated. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># sliding over the `spatial_dim`</span>
<span class="n">inferer</span> <span class="o">=</span> <span class="n">SliceInferer</span><span class="p">(</span><span class="n">roi_size</span><span class="o">=</span><span class="p">(</span><span class="mi">64</span><span class="p">,</span> <span class="mi">256</span><span class="p">),</span> <span class="n">sw_batch_size</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">spatial_dim</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">output</span> <span class="o">=</span> <span class="n">inferer</span><span class="p">(</span><span class="n">input_volume</span><span class="p">,</span> <span class="n">net</span><span class="p">)</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>spatial_dim</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – Spatial dimension over which the slice-by-slice inference runs on the 3D volume.
For example <code class="docutils literal notranslate"><span class="pre">0</span></code> could slide over axial slices. <code class="docutils literal notranslate"><span class="pre">1</span></code> over coronal slices and <code class="docutils literal notranslate"><span class="pre">2</span></code> over sagittal slices.</p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional args to be passed to the <cite>__init__</cite> of base class SlidingWindowInferer.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – other optional keyword args to be passed to <cite>__init__</cite> of base class SlidingWindowInferer.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">roi_size</span></code> in SliceInferer is expected to be a 2D tuple when a 3D volume is provided. This allows
sliding across slices along the 3D volume using a selected <code class="docutils literal notranslate"><span class="pre">spatial_dim</span></code>.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SliceInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L771-L815"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SliceInferer.__call__" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – 3D input for inference</p></li>
<li><p><strong>network</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]) – 2D model to execute inference on slices in the 3D input</p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">network</span></code>.</p></li>
<li><p><strong>condition</strong> (<em>torch.Tensor</em><em>, </em><em>optional</em>) – If provided via <cite>**kwargs</cite>,
this tensor must match the shape of <cite>inputs</cite> and will be sliced, patched, or windowed alongside the inputs.
The resulting segments will be passed to the model together with the corresponding input segments.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, …], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SliceInferer.network_wrapper">
<span class="sig-name descname"><span class="pre">network_wrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">network</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">x</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L817-L847"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SliceInferer.network_wrapper" title="Link to this definition">#</a></dt>
<dd><p>Wrapper handles inference for 2D models over 3D volume inputs.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, …], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="diffusioninferer">
<h3><cite>DiffusionInferer</cite><a class="headerlink" href="#diffusioninferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.DiffusionInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">DiffusionInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L850-L1177"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.DiffusionInferer" title="Link to this definition">#</a></dt>
<dd><p>DiffusionInferer takes a trained diffusion model and a scheduler and can be used to perform a signal forward pass
for a training iteration, and sample from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scheduler</strong> (<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>) – diffusion scheduler.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.DiffusionInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L864-L904"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.DiffusionInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Implements the forward pass for a supervised training iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Input image to which noise is added.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – diffusion model.</p></li>
<li><p><strong>noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the input.</p></li>
<li><p><strong>timesteps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random timesteps.</p></li>
<li><p><strong>condition</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if model is instance of SPADEDiffusionModelUnet, segmentation must be</p></li>
<li><p><strong>forward</strong> (<em>provided on the</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.DiffusionInferer.get_likelihood">
<span class="sig-name descname"><span class="pre">get_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">255)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaled_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.DiffusionInferer.get_likelihood" title="Link to this definition">#</a></dt>
<dd><p>Computes the log-likelihoods for an input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input images, NxCxHxW[xD]</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to compute likelihood from</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler.</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – save the intermediate spatial KL maps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>original_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>) – the [min,max] intensity range of the input data before any scaling was applied.</p></li>
<li><p><strong>scaled_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>) – the [min,max] intensity range of the input data after scaling.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.DiffusionInferer.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg_fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.DiffusionInferer.sample" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the desired sample.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to sample from.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether to return intermediates along the sampling change</p></li>
<li><p><strong>intermediate_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if save_intermediates is True, saves every n steps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
<li><p><strong>cfg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – classifier-free-guidance scale, which indicates the level of strengthening on the conditioning.</p></li>
<li><p><strong>cfg_fill_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the fill value to use for the unconditioned input when using classifier-free guidance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="latentdiffusioninferer">
<h3><cite>LatentDiffusionInferer</cite><a class="headerlink" href="#latentdiffusioninferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.LatentDiffusionInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">LatentDiffusionInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldm_latent_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_latent_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1180-L1402"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.LatentDiffusionInferer" title="Link to this definition">#</a></dt>
<dd><p>LatentDiffusionInferer takes a stage 1 model (VQVAE or AutoencoderKL), diffusion model, and a scheduler, and can
be used to perform a signal forward pass for a training iteration, and sample from the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheduler</strong> (<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>) – a scheduler to be used in combination with <cite>unet</cite> to denoise the encoded image latents.</p></li>
<li><p><strong>scale_factor</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – scale factor to multiply the values of the latent representation before processing it by the
second stage.</p></li>
<li><p><strong>ldm_latent_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – desired spatial latent space shape. Used if there is a difference in the autoencoder model’s latent shape.</p></li>
<li><p><strong>autoencoder_latent_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – autoencoder_latent_shape: autoencoder spatial latent space shape. Used if there is a
difference between the autoencoder’s latent shape and the DM shape.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.LatentDiffusionInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1211-L1250"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.LatentDiffusionInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Implements the forward pass for a supervised training iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input image to which the latent representation will be extracted and noise is added.</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – diffusion model.</p></li>
<li><p><strong>noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the latent representation.</p></li>
<li><p><strong>timesteps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random timesteps.</p></li>
<li><p><strong>condition</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.LatentDiffusionInferer.get_likelihood">
<span class="sig-name descname"><span class="pre">get_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">255)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaled_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_latent_likelihoods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_interpolation_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.LatentDiffusionInferer.get_likelihood" title="Link to this definition">#</a></dt>
<dd><p>Computes the log-likelihoods of the latent representations of the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input images, NxCxHxW[xD]</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to compute likelihood from</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – save the intermediate spatial KL maps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>original_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the [min,max] intensity range of the input data before any scaling was applied.</p></li>
<li><p><strong>scaled_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the [min,max] intensity range of the input data after scaling.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>resample_latent_likelihoods</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, resamples the intermediate likelihood maps to have the same spatial
dimension as the input images.</p></li>
<li><p><strong>resample_interpolation_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – if use resample_latent_likelihoods, select interpolation ‘nearest’, ‘bilinear’,
or ‘trilinear;</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, or autoencoder_model
is instance of SPADEAutoencoderKL, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.LatentDiffusionInferer.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg_fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.LatentDiffusionInferer.sample" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the desired latent representation.</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to sample from.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler.</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether to return intermediates along the sampling change</p></li>
<li><p><strong>intermediate_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if save_intermediates is True, saves every n steps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, or autoencoder_model
is instance of SPADEAutoencoderKL, segmentation must be provided.</p></li>
<li><p><strong>cfg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – classifier-free-guidance scale, which indicates the level of strengthening on the conditioning.</p></li>
<li><p><strong>cfg_fill_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the fill value to use for the unconditioned input when using classifier-free guidance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="controlnetdiffusioninferer">
<h3><cite>ControlNetDiffusionInferer</cite><a class="headerlink" href="#controlnetdiffusioninferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.ControlNetDiffusionInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">ControlNetDiffusionInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1405-L1747"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ControlNetDiffusionInferer" title="Link to this definition">#</a></dt>
<dd><p>ControlNetDiffusionInferer takes a trained diffusion model and a scheduler and can be used to perform a signal
forward pass for a training iteration, and sample from the model, supporting ControlNet-based conditioning.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>scheduler</strong> (<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>) – diffusion scheduler.</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetDiffusionInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1418-L1470"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ControlNetDiffusionInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Implements the forward pass for a supervised training iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – Input image to which noise is added.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – diffusion model.</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – controlnet sub-network.</p></li>
<li><p><strong>noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the input.</p></li>
<li><p><strong>timesteps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random timesteps.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning image for the ControlNet.</p></li>
<li><p><strong>condition</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if model is instance of SPADEDiffusionModelUnet, segmentation must be</p></li>
<li><p><strong>forward</strong> (<em>provided on the</em>)</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetDiffusionInferer.get_likelihood">
<span class="sig-name descname"><span class="pre">get_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">255)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaled_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.ControlNetDiffusionInferer.get_likelihood" title="Link to this definition">#</a></dt>
<dd><p>Computes the log-likelihoods for an input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input images, NxCxHxW[xD]</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to compute likelihood from</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – controlnet sub-network.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning image for the ControlNet.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler.</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – save the intermediate spatial KL maps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>original_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>) – the [min,max] intensity range of the input data before any scaling was applied.</p></li>
<li><p><strong>scaled_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>) – the [min,max] intensity range of the input data after scaling.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetDiffusionInferer.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg_fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.ControlNetDiffusionInferer.sample" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the desired sample.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to sample from.</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – controlnet sub-network.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning image for the ControlNet.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether to return intermediates along the sampling change</p></li>
<li><p><strong>intermediate_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if save_intermediates is True, saves every n steps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
<li><p><strong>cfg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – classifier-free-guidance scale, which indicates the level of strengthening on the conditioning.</p></li>
<li><p><strong>cfg_fill_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the fill value to use for the unconditioned input when using classifier-free guidance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="controlnetlatentdiffusioninferer">
<h3><cite>ControlNetLatentDiffusionInferer</cite><a class="headerlink" href="#controlnetlatentdiffusioninferer" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.ControlNetLatentDiffusionInferer">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">ControlNetLatentDiffusionInferer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scheduler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scale_factor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ldm_latent_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_latent_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1750-L2003"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ControlNetLatentDiffusionInferer" title="Link to this definition">#</a></dt>
<dd><p>ControlNetLatentDiffusionInferer takes a stage 1 model (VQVAE or AutoencoderKL), diffusion model, controlnet,
and a scheduler, and can be used to perform a signal forward pass for a training iteration, and sample from
the model.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>scheduler</strong> (<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>) – a scheduler to be used in combination with <cite>unet</cite> to denoise the encoded image latents.</p></li>
<li><p><strong>scale_factor</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – scale factor to multiply the values of the latent representation before processing it by the
second stage.</p></li>
<li><p><strong>ldm_latent_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – desired spatial latent space shape. Used if there is a difference in the autoencoder model’s latent shape.</p></li>
<li><p><strong>autoencoder_latent_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – autoencoder_latent_shape: autoencoder spatial latent space shape. Used if there is a
difference between the autoencoder’s latent shape and the DM shape.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetLatentDiffusionInferer.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">timesteps</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">condition</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/inferer.py#L1782-L1831"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ControlNetLatentDiffusionInferer.__call__" title="Link to this definition">#</a></dt>
<dd><p>Implements the forward pass for a supervised training iteration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input image to which the latent representation will be extracted and noise is added.</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – diffusion model.</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – instance of ControlNet model</p></li>
<li><p><strong>noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the latent representation.</p></li>
<li><p><strong>timesteps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random timesteps.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning tensor for the ControlNet network</p></li>
<li><p><strong>condition</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetLatentDiffusionInferer.get_likelihood">
<span class="sig-name descname"><span class="pre">get_likelihood</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">original_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">255)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scaled_input_range</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">(0,</span> <span class="pre">1)</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_latent_likelihoods</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resample_interpolation_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'nearest'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.ControlNetLatentDiffusionInferer.get_likelihood" title="Link to this definition">#</a></dt>
<dd><p>Computes the log-likelihoods of the latent representations of the input.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – input images, NxCxHxW[xD]</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to compute likelihood from</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – instance of ControlNet model.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning tensor for the ControlNet network.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – save the intermediate spatial KL maps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>original_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the [min,max] intensity range of the input data before any scaling was applied.</p></li>
<li><p><strong>scaled_input_range</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the [min,max] intensity range of the input data after scaling.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>resample_latent_likelihoods</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, resamples the intermediate likelihood maps to have the same spatial
dimension as the input images.</p></li>
<li><p><strong>resample_interpolation_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – if use resample_latent_likelihoods, select interpolation ‘nearest’, ‘bilinear’,
or ‘trilinear;</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, or autoencoder_model
is instance of SPADEAutoencoderKL, segmentation must be provided.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ControlNetLatentDiffusionInferer.sample">
<span class="sig-name descname"><span class="pre">sample</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_noise</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autoencoder_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">diffusion_model</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">controlnet</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cn_cond</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scheduler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">save_intermediates</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">intermediate_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">conditioning</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'crossattn'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">seg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg_fill_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1.0</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#monai.inferers.ControlNetLatentDiffusionInferer.sample" title="Link to this definition">#</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_noise</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – random noise, of the same shape as the desired latent representation.</p></li>
<li><p><strong>autoencoder_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">AutoencoderKL</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">VQVAE</span></code>]) – first stage model.</p></li>
<li><p><strong>diffusion_model</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">DiffusionModelUNet</span></code>) – model to sample from.</p></li>
<li><p><strong>controlnet</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">ControlNet</span></code>) – instance of ControlNet model.</p></li>
<li><p><strong>cn_cond</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – conditioning tensor for the ControlNet network.</p></li>
<li><p><strong>scheduler</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="networks.html#monai.networks.schedulers.Scheduler" title="monai.networks.schedulers.scheduler.Scheduler"><code class="xref py py-class docutils literal notranslate"><span class="pre">Scheduler</span></code></a>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – diffusion scheduler. If none provided will use the class attribute scheduler.</p></li>
<li><p><strong>save_intermediates</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – whether to return intermediates along the sampling change</p></li>
<li><p><strong>intermediate_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if save_intermediates is True, saves every n steps</p></li>
<li><p><strong>conditioning</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – Conditioning for network input.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>) – Conditioning mode for the network.</p></li>
<li><p><strong>verbose</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – if true, prints the progression bar of the sampling process.</p></li>
<li><p><strong>seg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – if diffusion model is instance of SPADEDiffusionModel, or autoencoder_model
is instance of SPADEAutoencoderKL, segmentation must be provided.</p></li>
<li><p><strong>cfg</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – classifier-free-guidance scale, which indicates the level of strengthening on the conditioning.</p></li>
<li><p><strong>cfg_fill_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – the fill value to use for the unconditioned input when using classifier-free guidance.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="splitters">
<h2>Splitters<a class="headerlink" href="#splitters" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.Splitter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">Splitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L31-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Splitter" title="Link to this definition">#</a></dt>
<dd><p>A base class for splitting the inputs into iterable tuple of patches and locations
Extend this class to support operations for <cite>PatchInference</cite>, e.g. SlidingPatchSplitter.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the size of patches to be generated.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the device where the patches are generated.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Splitter.__call__">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L77-L91"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Splitter.__call__" title="Link to this definition">#</a></dt>
<dd><p>Split the input image (or batch of images) into patches and return pairs of (patch, location).
Where location is the coordinate of top left [front] corner of a patch.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Splitter.get_input_shape">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_input_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L45-L58"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Splitter.get_input_shape" title="Link to this definition">#</a></dt>
<dd><p>Return the input spatial shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Splitter.get_padded_shape">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_padded_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L60-L75"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Splitter.get_padded_shape" title="Link to this definition">#</a></dt>
<dd><p>Return the actual spatial shape covered by the output split patches.
For instance, if the input image is padded, the actual spatial shape will be enlarged
and not the same as input spatial shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="slidingwindowsplitter">
<h3><cite>SlidingWindowSplitter</cite><a class="headerlink" href="#slidingwindowsplitter" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowSplitter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">SlidingWindowSplitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L94-L292"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowSplitter" title="Link to this definition">#</a></dt>
<dd><p>Splits the input into patches with sliding window strategy and a possible overlap.
It also allows offsetting the starting position and filtering the patches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the size of the patches to be generated.</p></li>
<li><p><strong>offset</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the amount of offset for the patches with respect to the original input.  Defaults to 0.</p></li>
<li><p><strong>overlap</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the amount of overlap between patches in each dimension. It can be either a float in
the range of [0.0, 1.0) that defines relative overlap to the patch size, or it can be a non-negative int
that defines number of pixels for overlap. Defaults to 0.0.</p></li>
<li><p><strong>filter_fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a callable to filter patches. It should accepts exactly two parameters (patch, location), and
return True for a patch to keep. Defaults to no filtering.</p></li>
<li><p><strong>pad_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – string define the mode for <cite>torch.nn.functional.pad</cite>. The acceptable values are
<cite>“constant”</cite>, <cite>“reflect”</cite>, <cite>“replicate”</cite>, <cite>“circular”</cite> or <cite>None</cite>. Default to <cite>“constant”</cite>.
If None, no padding will be applied, so it will drop the patches crossing the border of
the image (either when the offset is negative or the image is non-divisible by the patch_size).</p></li>
<li><p><strong>pad_value</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the value for <cite>“constant”</cite> padding. Defaults to 0.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the device where the patches are generated. Defaults to the device of inputs.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<dl class="simple">
<dt>When a scaler value is provided for <cite>patch_size</cite>, <cite>offset</cite>, or <cite>overlap</cite>,</dt><dd><p>it is broadcasted to all the spatial dimensions.</p>
</dd>
</dl>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowSplitter.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L255-L292"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowSplitter.__call__" title="Link to this definition">#</a></dt>
<dd><p>Split the input tensor into patches and return patches and locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a torch.Tensor with BCHW[D] dimensions, representing an image or a batch of images</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>tuple[torch.Tensor, Sequence[int]]</em> – yields tuple of patch and location</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowSplitter.get_input_shape">
<span class="sig-name descname"><span class="pre">get_input_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L218-L229"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowSplitter.get_input_shape" title="Link to this definition">#</a></dt>
<dd><p>Return the input spatial shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>spatial_shape</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.SlidingWindowSplitter.get_padded_shape">
<span class="sig-name descname"><span class="pre">get_padded_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L231-L253"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.SlidingWindowSplitter.get_padded_shape" title="Link to this definition">#</a></dt>
<dd><p>Return the actual spatial shape covered by the output split patches.
For instance, if the input image is padded, the actual spatial shape will be enlarged
and not the same as input spatial shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>padded_spatial_shape</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="wsislidingwindowsplitter">
<h3><cite>WSISlidingWindowSplitter</cite><a class="headerlink" href="#wsislidingwindowsplitter" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.WSISlidingWindowSplitter">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">WSISlidingWindowSplitter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pad_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'constant'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reader</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'OpenSlide'</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">reader_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L295-L444"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.WSISlidingWindowSplitter" title="Link to this definition">#</a></dt>
<dd><p>Splits the whole slide image input into patches with sliding window strategy and a possible overlap.
This extracts patches from file without loading the entire slide into memory.
It also allows offsetting the starting position and filtering the patches.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the size of the patches to be generated.</p></li>
<li><p><strong>offset</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the amount of offset for the patches with respect to the original input.  Defaults to 0.</p></li>
<li><p><strong>overlap</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the amount of overlap between patches in each dimension. It can be either a float in
the range of [0.0, 1.0) that defines relative overlap to the patch size, or it can be a non-negative int
that defines number of pixels for overlap. Defaults to 0.0.</p></li>
<li><p><strong>filter_fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – a callable to filter patches. It should accepts exactly two parameters (patch, location), and
return True for a patch to keep. Defaults to no filtering.</p></li>
<li><p><strong>pad_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – define the mode for padding. Either “constant” or None. Default to “constant”.
Padding is only supported with “OpenSlide” or “cuCIM” backend, and the filling value is 256.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the device where the patches are generated. Defaults to the device of inputs.</p></li>
<li><p><strong>reader</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <a class="reference internal" href="data.html#monai.data.BaseWSIReader" title="monai.data.wsi_reader.BaseWSIReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWSIReader</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code>[<a class="reference internal" href="data.html#monai.data.BaseWSIReader" title="monai.data.wsi_reader.BaseWSIReader"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseWSIReader</span></code></a>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – <p>the module to be used for loading whole slide imaging. If <cite>reader</cite> is</p>
<ul>
<li><p>a string, it defines the backend of <cite>monai.data.WSIReader</cite>. Defaults to “OpenSlide”.</p></li>
<li><p>a class (inherited from <cite>BaseWSIReader</cite>), it is initialized and set as wsi_reader.</p></li>
<li><p>an instance of a class inherited from <cite>BaseWSIReader</cite>, it is set as the wsi_reader.</p></li>
</ul>
<p>To obtain an optimized performance please use either “cuCIM” or “OpenSlide” backend.</p>
</p></li>
<li><p><strong>reader_kwargs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>) – the arguments to pass to <cite>WSIReader</cite> or the provided whole slide reader class.
For instance, level=2, dtype=torch.float32, etc.
Note that if <cite>level</cite> is not provided, <cite>level=0</cite> is assumed.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When a scaler value is provided for <cite>patch_size</cite>, <cite>offset</cite>, or <cite>overlap</cite>,
it is broadcasted to all the spatial dimensions.</p>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.WSISlidingWindowSplitter.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L398-L444"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.WSISlidingWindowSplitter.__call__" title="Link to this definition">#</a></dt>
<dd><p>Split the input tensor into patches and return patches and locations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">PathLike</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Union</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">PathLike</span></code>]]]) – the file path to a whole slide image.</p>
</dd>
<dt class="field-even">Yields<span class="colon">:</span></dt>
<dd class="field-even"><p><em>tuple[torch.Tensor, Sequence[int]]</em> – yields tuple of patch and location</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">Iterable</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.WSISlidingWindowSplitter.get_input_shape">
<span class="sig-name descname"><span class="pre">get_input_shape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/splitter.py#L382-L396"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.WSISlidingWindowSplitter.get_input_shape" title="Link to this definition">#</a></dt>
<dd><p>Return the input spatial shape.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>inputs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – either a tensor of shape BCHW[D], representing a batch of images,
or a filename (str) or list of filenames to the image(s).</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>spatial_shape</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="mergers">
<h2>Mergers<a class="headerlink" href="#mergers" title="Link to this heading">#</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.Merger">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">Merger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cropped_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L41-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Merger" title="Link to this definition">#</a></dt>
<dd><p>A base class for merging patches.
Extend this class to support operations for <cite>PatchInference</cite>.
There are two methods that must be implemented in the concrete classes:</p>
<blockquote>
<div><ul class="simple">
<li><p>aggregate: aggregate the values at their corresponding locations</p></li>
<li><p>finalize: perform any final process and return the merged output</p></li>
</ul>
</div></blockquote>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>merged_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the shape of the tensor required to merge the patches.</p></li>
<li><p><strong>cropped_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the shape of the final merged output tensor.
If not provided, it will be the same as <cite>merged_shape</cite>.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the device where Merger tensors should reside.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Merger.aggregate">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L71-L85"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Merger.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Aggregate values for merging.
This method is being called in a loop and should add values to their corresponding location in the merged output results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – a tensor of shape BCHW[D], representing the values of inference output.</p></li>
<li><p><strong>location</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – a tuple/list giving the top left location of the patch in the output.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.Merger.finalize">
<em class="property"><span class="k"><span class="pre">abstractmethod</span></span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L87-L100"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.Merger.finalize" title="Link to this definition">#</a></dt>
<dd><p>Perform final operations for merging patches and return the final merged output.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code></p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><dl class="simple">
<dt>The results of merged patches, which is commonly a torch.Tensor representing the merged result, or</dt><dd><p>a string representing the filepath to the merged results on disk.</p>
</dd>
</dl>
</p>
</dd>
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<section id="avgmerger">
<h3><cite>AvgMerger</cite><a class="headerlink" href="#avgmerger" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">AvgMerger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cropped_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">torch.float32</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">torch.uint8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'cpu'</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L103-L203"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger" title="Link to this definition">#</a></dt>
<dd><p>Merge patches by taking average of the overlapping area</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>merged_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the shape of the tensor required to merge the patches.</p></li>
<li><p><strong>cropped_shape</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the shape of the final merged output tensor.
If not provided, it will be the same as <cite>merged_shape</cite>.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – the device for aggregator tensors and final results.</p></li>
<li><p><strong>value_dtype</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code>) – the dtype for value aggregating tensor and the final result.</p></li>
<li><p><strong>count_dtype</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">dtype</span></code>) – the dtype for sample counting tensor.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L131-L149"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Aggregate values for merging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – a tensor of shape BCHW[D], representing the values of inference output.</p></li>
<li><p><strong>location</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – a tuple/list giving the top left location of the patch in the original image.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><p><strong>NotImplementedError</strong> – When the subclass does not override this method.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L151-L172"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger.finalize" title="Link to this definition">#</a></dt>
<dd><p>Finalize merging by dividing values by counts and return the merged tensor.</p>
<p class="rubric">Notes</p>
<p>To avoid creating a new tensor for the final results (to save memory space),
after this method is called, <cite>get_values()</cite> method will return the “final” averaged values,
and not the accumulating values. Also calling <cite>finalize()</cite> multiple times does not have any effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a tensor of merged patches</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>torch.tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger.get_counts">
<span class="sig-name descname"><span class="pre">get_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L196-L203"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger.get_counts" title="Link to this definition">#</a></dt>
<dd><p>Get the aggregator tensor for number of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>number of accumulated samples at each location.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger.get_output">
<span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L174-L181"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger.get_output" title="Link to this definition">#</a></dt>
<dd><p>Get the final merged output.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>merged output.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>torch.Tensor</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.AvgMerger.get_values">
<span class="sig-name descname"><span class="pre">get_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L183-L194"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.AvgMerger.get_values" title="Link to this definition">#</a></dt>
<dd><p>Get the accumulated values during aggregation or final averaged values after it is finalized.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>aggregated values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>torch.tensor</p>
</dd>
</dl>
<p class="rubric">Notes</p>
<ul class="simple">
<li><p>If called before calling <cite>finalize()</cite>, this method returns the accumulating values.</p></li>
<li><p>If called after calling <cite>finalize()</cite>, this method returns the final merged [and averaged] values.</p></li>
</ul>
</dd></dl>

</dd></dl>

</section>
<section id="zarravgmerger">
<h3><cite>ZarrAvgMerger</cite><a class="headerlink" href="#zarravgmerger" title="Link to this heading">#</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger">
<em class="property"><span class="k"><span class="pre">class</span></span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">ZarrAvgMerger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">merged_shape</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cropped_shape</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'float32'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_dtype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'uint8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'merged.zarr'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_store</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">compressor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_compressor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_compressor</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">codecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value_codecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">count_codecs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">chunks</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">thread_locking</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L206-L497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger" title="Link to this definition">#</a></dt>
<dd><p>Merge patches by taking average of the overlapping area and store the results in zarr array.</p>
<p>Zarr is a format for the storage of chunked, compressed, N-dimensional arrays.
Zarr data can be stored in any storage system that can be represented as a key-value store,
like POSIX file systems, cloud object storage, zip files, and relational and document databases.
See <a class="reference external" href="https://zarr.readthedocs.io/en/stable/">https://zarr.readthedocs.io/en/stable/</a> for more details.
It is particularly useful for storing N-dimensional arrays too large to fit into memory.
One specific use case of this class is to merge patches extracted from whole slide images (WSI),
where the merged results do not fit into memory and need to be stored on a file system.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>merged_shape</strong> – the shape of the tensor required to merge the patches.</p></li>
<li><p><strong>cropped_shape</strong> – the shape of the final merged output tensor.
If not provided, it will be the same as <cite>merged_shape</cite>.</p></li>
<li><p><strong>dtype</strong> – the dtype for the final merged result. Default is <cite>float32</cite>.</p></li>
<li><p><strong>value_dtype</strong> – the dtype for value aggregating tensor and the final result. Default is <cite>float32</cite>.</p></li>
<li><p><strong>count_dtype</strong> – the dtype for sample counting tensor. Default is <cite>uint8</cite>.</p></li>
<li><p><strong>store</strong> – the zarr store to save the final results. Default is “merged.zarr”.</p></li>
<li><p><strong>value_store</strong> – the zarr store to save the value aggregating tensor. Default is a temporary store.</p></li>
<li><p><strong>count_store</strong> – the zarr store to save the sample counting tensor. Default is a temporary store.</p></li>
<li><p><strong>compressor</strong> – the compressor for final merged zarr array. Default is None.
Deprecated since 1.5.0 and will be removed in 1.7.0. Use codecs instead.</p></li>
<li><p><strong>value_compressor</strong> – the compressor for value aggregating zarr array. Default is None.
Deprecated since 1.5.0 and will be removed in 1.7.0. Use value_codecs instead.</p></li>
<li><p><strong>count_compressor</strong> – the compressor for sample counting zarr array. Default is None.
Deprecated since 1.5.0 and will be removed in 1.7.0. Use count_codecs instead.</p></li>
<li><p><strong>codecs</strong> – the codecs for final merged zarr array. Default is None.
For zarr v3, this is a list of codec configurations. See zarr documentation for details.</p></li>
<li><p><strong>value_codecs</strong> – the codecs for value aggregating zarr array. Default is None.
For zarr v3, this is a list of codec configurations. See zarr documentation for details.</p></li>
<li><p><strong>count_codecs</strong> – the codecs for sample counting zarr array. Default is None.
For zarr v3, this is a list of codec configurations. See zarr documentation for details.</p></li>
<li><p><strong>chunks</strong> – int or tuple of ints that defines the chunk shape, or boolean. Default is True.
If True, chunk shape will be guessed from <cite>shape</cite> and <cite>dtype</cite>.
If False, it will be set to <cite>shape</cite>, i.e., single chunk for the whole array.
If an int, the chunk size in each dimension will be given by the value of <cite>chunks</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger.aggregate">
<span class="sig-name descname"><span class="pre">aggregate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">values</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">location</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L430-L445"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger.aggregate" title="Link to this definition">#</a></dt>
<dd><p>Aggregate values for merging.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>values</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>) – a tensor of shape BCHW[D], representing the values of inference output.</p></li>
<li><p><strong>location</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – a tuple/list giving the top left location of the patch in the original image.</p></li>
</ul>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger.finalize">
<span class="sig-name descname"><span class="pre">finalize</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L447-L469"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger.finalize" title="Link to this definition">#</a></dt>
<dd><p>Finalize merging by dividing values by counts and return the merged tensor.</p>
<p class="rubric">Notes</p>
<p>To avoid creating a new tensor for the final results (to save memory space),
after this method is called, <cite>get_values()</cite> method will return the “final” averaged values,
and not the accumulating values. Also calling <cite>finalize()</cite> multiple times does not have any effect.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a zarr array of of merged patches</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>zarr.Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger.get_counts">
<span class="sig-name descname"><span class="pre">get_counts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L490-L497"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger.get_counts" title="Link to this definition">#</a></dt>
<dd><p>Get the aggregator tensor for number of samples.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Number of accumulated samples at each location.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>zarr.Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger.get_output">
<span class="sig-name descname"><span class="pre">get_output</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L471-L478"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger.get_output" title="Link to this definition">#</a></dt>
<dd><p>Get the final merged output.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Merged (averaged) output tensor.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>zarr.Array</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="monai.inferers.ZarrAvgMerger.get_values">
<span class="sig-name descname"><span class="pre">get_values</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/merger.py#L480-L488"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.ZarrAvgMerger.get_values" title="Link to this definition">#</a></dt>
<dd><p>Get the accumulated values during aggregation</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>aggregated values.</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>zarr.Array</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="sliding-window-inference-function">
<h2>Sliding Window Inference Function<a class="headerlink" href="#sliding-window-inference-function" title="Link to this heading">#</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="monai.inferers.sliding_window_inference">
<span class="sig-prename descclassname"><span class="pre">monai.inferers.</span></span><span class="sig-name descname"><span class="pre">sliding_window_inference</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inputs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_batch_size</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">predictor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overlap</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.25</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sigma_scale</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.125</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">padding_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">constant</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cval</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0.0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sw_device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">device</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">roi_weight_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_fn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_steps</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">buffer_dim</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_coord</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference external" href="https://github.com/Project-MONAI/MONAI/blob/dev/monai/inferers/utils.py#L42-L331"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#monai.inferers.sliding_window_inference" title="Link to this definition">#</a></dt>
<dd><p>Sliding window inference on <cite>inputs</cite> with <cite>predictor</cite>.</p>
<p>The outputs of <cite>predictor</cite> could be a tensor, a tuple, or a dictionary of tensors.
Each output in the tuple or dict value is allowed to have different resolutions with respect to the input.
e.g., the input patch spatial size is [128,128,128], the output (a tuple of two patches) patch sizes
could be ([128,64,256], [64,32,128]).
In this case, the parameter <cite>overlap</cite> and <cite>roi_size</cite> need to be carefully chosen to ensure the output ROI is still
an integer. If the predictor’s input and output spatial sizes are not equal, we recommend choosing the parameters
so that <cite>overlap*roi_size*output_size/input_size</cite> is an integer (for each spatial dimension).</p>
<p>When roi_size is larger than the inputs’ spatial size, the input image are padded during inference.
To maintain the same spatial sizes, the output image will be cropped to the original input size.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>inputs</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <a class="reference internal" href="data.html#monai.data.MetaTensor" title="monai.data.meta_tensor.MetaTensor"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetaTensor</span></code></a>]) – input image to be processed (assuming NCHW[D])</p></li>
<li><p><strong>roi_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>]) – the spatial window size for inferences.
When its components have None or non-positives, the corresponding inputs dimension will be used.
if the components of the <cite>roi_size</cite> are non-positive values, the transform will use the
corresponding components of img size. For example, <cite>roi_size=(32, -1)</cite> will be adapted
to <cite>(32, 64)</cite> if the second spatial dimension size of img is <cite>64</cite>.</p></li>
<li><p><strong>sw_batch_size</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the batch size to run window slices.</p></li>
<li><p><strong>predictor</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>[…, <code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]]) – given input tensor <code class="docutils literal notranslate"><span class="pre">patch_data</span></code> in shape NCHW[D],
The outputs of the function call <code class="docutils literal notranslate"><span class="pre">predictor(patch_data)</span></code> should be a tensor, a tuple, or a dictionary
with Tensor values. Each output in the tuple or dict value should have the same batch_size, i.e. NM’H’W’[D’];
where H’W’[D’] represents the output patch’s spatial size, M is the number of output channels,
N is <cite>sw_batch_size</cite>, e.g., the input shape is (7, 1, 128,128,128),
the output could be a tuple of two tensors, with shapes: ((7, 5, 128, 64, 256), (7, 4, 64, 32, 128)).
In this case, the parameter <cite>overlap</cite> and <cite>roi_size</cite> need to be carefully chosen
to ensure the scaled output ROI sizes are still integers.
If the <cite>predictor</cite>’s input and output spatial sizes are different,
we recommend choosing the parameters so that <code class="docutils literal notranslate"><span class="pre">overlap*roi_size*zoom_scale</span></code> is an integer for each dimension.</p></li>
<li><p><strong>overlap</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – Amount of overlap between scans along each spatial dimension, defaults to <code class="docutils literal notranslate"><span class="pre">0.25</span></code>.</p></li>
<li><p><strong>mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.BlendMode" title="monai.utils.enums.BlendMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">BlendMode</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – <p>{<code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;gaussian&quot;</span></code>}
How to blend output of overlapping windows. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;constant</span></code>”: gives equal weight to all predictions.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">&quot;gaussian</span></code>”: gives less weight to predictions on edges of windows.</p></li>
</ul>
</p></li>
<li><p><strong>sigma_scale</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Sequence</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>], <code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>]) – the standard deviation coefficient of the Gaussian window when <cite>mode</cite> is <code class="docutils literal notranslate"><span class="pre">&quot;gaussian&quot;</span></code>.
Default: 0.125. Actual window sigma is <code class="docutils literal notranslate"><span class="pre">sigma_scale</span></code> * <code class="docutils literal notranslate"><span class="pre">dim_size</span></code>.
When sigma_scale is a sequence of floats, the values denote sigma_scale at the corresponding
spatial dimensions.</p></li>
<li><p><strong>padding_mode</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<a class="reference internal" href="utils.html#monai.utils.enums.PytorchPadMode" title="monai.utils.enums.PytorchPadMode"><code class="xref py py-class docutils literal notranslate"><span class="pre">PytorchPadMode</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>]) – {<code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;reflect&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;replicate&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;circular&quot;</span></code>}
Padding mode for <code class="docutils literal notranslate"><span class="pre">inputs</span></code>, when <code class="docutils literal notranslate"><span class="pre">roi_size</span></code> is larger than inputs. Defaults to <code class="docutils literal notranslate"><span class="pre">&quot;constant&quot;</span></code>
See also: <a class="reference external" href="https://pytorch.org/docs/stable/generated/torch.nn.functional.pad.html">https://pytorch.org/docs/stable/generated/torch.nn.functional.pad.html</a></p></li>
<li><p><strong>cval</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">float</span></code>) – fill value for ‘constant’ padding mode. Default: 0</p></li>
<li><p><strong>sw_device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device for the window data.
By default the device (and accordingly the memory) of the <cite>inputs</cite> is used.
Normally <cite>sw_device</cite> should be consistent with the device where <cite>predictor</cite> is defined.</p></li>
<li><p><strong>device</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">device</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">str</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – device for the stitched output prediction.
By default the device (and accordingly the memory) of the <cite>inputs</cite> is used. If for example
set to device=torch.device(‘cpu’) the gpu memory consumption is less and independent of the
<cite>inputs</cite> and <cite>roi_size</cite>. Output is on the <cite>device</cite>.</p></li>
<li><p><strong>progress</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to print a <cite>tqdm</cite> progress bar.</p></li>
<li><p><strong>roi_weight_map</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – pre-computed (non-negative) weight map for each ROI.
If not given, and <code class="docutils literal notranslate"><span class="pre">mode</span></code> is not <cite>constant</cite>, this map will be computed on the fly.</p></li>
<li><p><strong>process_fn</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Callable</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – process inference output and adjust the importance map per window</p></li>
<li><p><strong>buffer_steps</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>, <code class="xref py py-obj docutils literal notranslate"><span class="pre">None</span></code>]) – the number of sliding window iterations along the <code class="docutils literal notranslate"><span class="pre">buffer_dim</span></code>
to be buffered on <code class="docutils literal notranslate"><span class="pre">sw_device</span></code> before writing to <code class="docutils literal notranslate"><span class="pre">device</span></code>.
(Typically, <code class="docutils literal notranslate"><span class="pre">sw_device</span></code> is <code class="docutils literal notranslate"><span class="pre">cuda</span></code> and <code class="docutils literal notranslate"><span class="pre">device</span></code> is <code class="docutils literal notranslate"><span class="pre">cpu</span></code>.)
default is None, no buffering. For the buffer dim, when spatial size is divisible by buffer_steps*roi_size,
(i.e. no overlapping among the buffers) non_blocking copy may be automatically enabled for efficiency.</p></li>
<li><p><strong>buffer_dim</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">int</span></code>) – the spatial dimension along which the buffers are created.
0 indicates the first spatial dimension. Default is -1, the last spatial dimension.</p></li>
<li><p><strong>with_coord</strong> (<code class="xref py py-class docutils literal notranslate"><span class="pre">bool</span></code>) – whether to pass the window coordinates to <code class="docutils literal notranslate"><span class="pre">predictor</span></code>. Default is False.
If True, the signature of <code class="docutils literal notranslate"><span class="pre">predictor</span></code> should be <code class="docutils literal notranslate"><span class="pre">predictor(patch_data,</span> <span class="pre">patch_coord,</span> <span class="pre">...)</span></code>.</p></li>
<li><p><strong>args</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional args to be passed to <code class="docutils literal notranslate"><span class="pre">predictor</span></code>.</p></li>
<li><p><strong>kwargs</strong> (<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>) – optional keyword args to be passed to <code class="docutils literal notranslate"><span class="pre">predictor</span></code>.</p></li>
</ul>
</dd>
</dl>
<div class="admonition note">
<p class="admonition-title">Note</p>
<ul class="simple">
<li><p>input must be channel-first and have a batch dim, supports N-D sliding window.</p></li>
</ul>
</div>
<dl class="field-list simple">
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><code class="xref py py-class docutils literal notranslate"><span class="pre">UnionType</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code>[<code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>, …], <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code>[<code class="xref py py-data docutils literal notranslate"><span class="pre">Any</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">Tensor</span></code>]]</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


                </article>
              
              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
    <a class="left-prev"
       href="engines.html"
       title="previous page">
      <i class="fa-solid fa-angle-left"></i>
      <div class="prev-next-info">
        <p class="prev-next-subtitle">previous</p>
        <p class="prev-next-title">Engines</p>
      </div>
    </a>
    <a class="right-next"
       href="handlers.html"
       title="next page">
      <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">Event handlers</p>
      </div>
      <i class="fa-solid fa-angle-right"></i>
    </a>
</div>
                </footer>
              
            </div>
            
            
              
                <dialog id="pst-secondary-sidebar-modal"></dialog>
                <div id="pst-secondary-sidebar" class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
<div
    id="pst-page-navigation-heading-2"
    class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> On this page
  </div>
  <nav class="bd-toc-nav page-toc" aria-labelledby="pst-page-navigation-heading-2">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#id1">Inferers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Inferer"><code class="docutils literal notranslate"><span class="pre">Inferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Inferer.__call__"><code class="docutils literal notranslate"><span class="pre">Inferer.__call__()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#patchinferer"><cite>PatchInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.PatchInferer"><code class="docutils literal notranslate"><span class="pre">PatchInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.PatchInferer.__call__"><code class="docutils literal notranslate"><span class="pre">PatchInferer.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#simpleinferer"><cite>SimpleInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SimpleInferer"><code class="docutils literal notranslate"><span class="pre">SimpleInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SimpleInferer.__call__"><code class="docutils literal notranslate"><span class="pre">SimpleInferer.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slidingwindowinferer"><cite>SlidingWindowInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowInferer"><code class="docutils literal notranslate"><span class="pre">SlidingWindowInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowInferer.__call__"><code class="docutils literal notranslate"><span class="pre">SlidingWindowInferer.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slidingwindowinfereradapt"><cite>SlidingWindowInfererAdapt</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowInfererAdapt"><code class="docutils literal notranslate"><span class="pre">SlidingWindowInfererAdapt</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowInfererAdapt.__call__"><code class="docutils literal notranslate"><span class="pre">SlidingWindowInfererAdapt.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#saliencyinferer"><cite>SaliencyInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SaliencyInferer"><code class="docutils literal notranslate"><span class="pre">SaliencyInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SaliencyInferer.__call__"><code class="docutils literal notranslate"><span class="pre">SaliencyInferer.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#sliceinferer"><cite>SliceInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SliceInferer"><code class="docutils literal notranslate"><span class="pre">SliceInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SliceInferer.__call__"><code class="docutils literal notranslate"><span class="pre">SliceInferer.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SliceInferer.network_wrapper"><code class="docutils literal notranslate"><span class="pre">SliceInferer.network_wrapper()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#diffusioninferer"><cite>DiffusionInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.DiffusionInferer"><code class="docutils literal notranslate"><span class="pre">DiffusionInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.DiffusionInferer.__call__"><code class="docutils literal notranslate"><span class="pre">DiffusionInferer.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.DiffusionInferer.get_likelihood"><code class="docutils literal notranslate"><span class="pre">DiffusionInferer.get_likelihood()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.DiffusionInferer.sample"><code class="docutils literal notranslate"><span class="pre">DiffusionInferer.sample()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#latentdiffusioninferer"><cite>LatentDiffusionInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.LatentDiffusionInferer"><code class="docutils literal notranslate"><span class="pre">LatentDiffusionInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.LatentDiffusionInferer.__call__"><code class="docutils literal notranslate"><span class="pre">LatentDiffusionInferer.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.LatentDiffusionInferer.get_likelihood"><code class="docutils literal notranslate"><span class="pre">LatentDiffusionInferer.get_likelihood()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.LatentDiffusionInferer.sample"><code class="docutils literal notranslate"><span class="pre">LatentDiffusionInferer.sample()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#controlnetdiffusioninferer"><cite>ControlNetDiffusionInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetDiffusionInferer"><code class="docutils literal notranslate"><span class="pre">ControlNetDiffusionInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetDiffusionInferer.__call__"><code class="docutils literal notranslate"><span class="pre">ControlNetDiffusionInferer.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetDiffusionInferer.get_likelihood"><code class="docutils literal notranslate"><span class="pre">ControlNetDiffusionInferer.get_likelihood()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetDiffusionInferer.sample"><code class="docutils literal notranslate"><span class="pre">ControlNetDiffusionInferer.sample()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#controlnetlatentdiffusioninferer"><cite>ControlNetLatentDiffusionInferer</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetLatentDiffusionInferer"><code class="docutils literal notranslate"><span class="pre">ControlNetLatentDiffusionInferer</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetLatentDiffusionInferer.__call__"><code class="docutils literal notranslate"><span class="pre">ControlNetLatentDiffusionInferer.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetLatentDiffusionInferer.get_likelihood"><code class="docutils literal notranslate"><span class="pre">ControlNetLatentDiffusionInferer.get_likelihood()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ControlNetLatentDiffusionInferer.sample"><code class="docutils literal notranslate"><span class="pre">ControlNetLatentDiffusionInferer.sample()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#splitters">Splitters</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Splitter"><code class="docutils literal notranslate"><span class="pre">Splitter</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Splitter.__call__"><code class="docutils literal notranslate"><span class="pre">Splitter.__call__()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Splitter.get_input_shape"><code class="docutils literal notranslate"><span class="pre">Splitter.get_input_shape()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Splitter.get_padded_shape"><code class="docutils literal notranslate"><span class="pre">Splitter.get_padded_shape()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#slidingwindowsplitter"><cite>SlidingWindowSplitter</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowSplitter"><code class="docutils literal notranslate"><span class="pre">SlidingWindowSplitter</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowSplitter.__call__"><code class="docutils literal notranslate"><span class="pre">SlidingWindowSplitter.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowSplitter.get_input_shape"><code class="docutils literal notranslate"><span class="pre">SlidingWindowSplitter.get_input_shape()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.SlidingWindowSplitter.get_padded_shape"><code class="docutils literal notranslate"><span class="pre">SlidingWindowSplitter.get_padded_shape()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#wsislidingwindowsplitter"><cite>WSISlidingWindowSplitter</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.WSISlidingWindowSplitter"><code class="docutils literal notranslate"><span class="pre">WSISlidingWindowSplitter</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.WSISlidingWindowSplitter.__call__"><code class="docutils literal notranslate"><span class="pre">WSISlidingWindowSplitter.__call__()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.WSISlidingWindowSplitter.get_input_shape"><code class="docutils literal notranslate"><span class="pre">WSISlidingWindowSplitter.get_input_shape()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#mergers">Mergers</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Merger"><code class="docutils literal notranslate"><span class="pre">Merger</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Merger.aggregate"><code class="docutils literal notranslate"><span class="pre">Merger.aggregate()</span></code></a></li>
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.Merger.finalize"><code class="docutils literal notranslate"><span class="pre">Merger.finalize()</span></code></a></li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#avgmerger"><cite>AvgMerger</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger"><code class="docutils literal notranslate"><span class="pre">AvgMerger</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger.aggregate"><code class="docutils literal notranslate"><span class="pre">AvgMerger.aggregate()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger.finalize"><code class="docutils literal notranslate"><span class="pre">AvgMerger.finalize()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger.get_counts"><code class="docutils literal notranslate"><span class="pre">AvgMerger.get_counts()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger.get_output"><code class="docutils literal notranslate"><span class="pre">AvgMerger.get_output()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.AvgMerger.get_values"><code class="docutils literal notranslate"><span class="pre">AvgMerger.get_values()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#zarravgmerger"><cite>ZarrAvgMerger</cite></a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger</span></code></a><ul class="nav section-nav flex-column">
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger.aggregate"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger.aggregate()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger.finalize"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger.finalize()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger.get_counts"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger.get_counts()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger.get_output"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger.get_output()</span></code></a></li>
<li class="toc-h5 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.ZarrAvgMerger.get_values"><code class="docutils literal notranslate"><span class="pre">ZarrAvgMerger.get_values()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#sliding-window-inference-function">Sliding Window Inference Function</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#monai.inferers.sliding_window_inference"><code class="docutils literal notranslate"><span class="pre">sliding_window_inference()</span></code></a></li>
</ul>
</li>
</ul>
  </nav></div>

  <div class="sidebar-secondary-item">
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/inferers.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
          </footer>
        
      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script defer src="_static/scripts/bootstrap.js?digest=8878045cc6db502f8baf"></script>
<script defer src="_static/scripts/pydata-sphinx-theme.js?digest=8878045cc6db502f8baf"></script>

  <footer class="bd-footer">
<div class="bd-footer__inner bd-page-width">
  
    <div class="footer-items__start">
      
        <div class="footer-item">

  <p class="copyright">
    
      © Copyright MONAI Consortium.
      <br/>
    
  </p>
</div>
      
    </div>
  
  
  
    <div class="footer-items__end">
      
        <div class="footer-item">
<p class="theme-version">
  <!-- # L10n: Setting the PST URL as an argument as this does not need to be localized -->
  Built with the <a href="https://pydata-sphinx-theme.readthedocs.io/en/stable/index.html">PyData Sphinx Theme</a> 0.16.1.
</p></div>
      
    </div>
  
</div>

  </footer>
  </body>
</html>